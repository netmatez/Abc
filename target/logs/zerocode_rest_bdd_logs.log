2022-01-29 15:42:47,418 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:47:22,360 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:47:22,857 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:47:22,910 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:47:22,922 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 15:47:23,017 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 15:47:23,027 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 15:47:23,060 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 15:47:23,060 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/01-1a-ticket_19555365_data_stagea.json"}
2022-01-29 15:47:23,087 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = mom-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 15:47:23,199 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 15:47:23,199 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 15:47:23,250 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 15:47:23,253 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=mom-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 15:47:23,259 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 15:47:23,261 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 15:47:23,263 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 15:47:23,265 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 15:47:23,271 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: c409a380-fe1a-4c62-a300-568c01c778b0 ---------
*requestTimeStamp:2022-01-29T15:47:23.056
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/01-1a-ticket_19555365_data_stagea.json"
} 
--------- TEST-STEP-CORRELATION-ID: c409a380-fe1a-4c62-a300-568c01c778b0 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T15:47:23.258 
*Response delay:202.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 15:47:23,396 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 15:47:23,451 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 15:51:20,965 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:51:21,383 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:51:21,431 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:51:21,444 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 15:51:21,531 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 15:51:21,543 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 15:51:21,577 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 15:51:21,578 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/01-1a-ticket_19555365_data_stagea.json"}
2022-01-29 15:51:21,602 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = mom-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 15:51:21,735 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 15:51:21,735 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 15:51:21,796 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 15:51:21,799 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=mom-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 15:51:21,806 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 15:51:21,809 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 15:51:21,811 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 15:51:21,813 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 15:51:21,821 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f1209d18-702b-4d82-aed4-53311239f915 ---------
*requestTimeStamp:2022-01-29T15:51:21.573
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/01-1a-ticket_19555365_data_stagea.json"
} 
--------- TEST-STEP-CORRELATION-ID: f1209d18-702b-4d82-aed4-53311239f915 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T15:51:21.806 
*Response delay:233.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 15:51:21,950 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 15:51:22,010 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 15:52:38,247 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:52:38,645 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:52:38,691 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:52:38,703 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 15:52:38,781 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 15:52:38,791 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 15:52:38,823 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 15:52:38,823 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/01-1a-ticket_19555365_data_stagea.json"}
2022-01-29 15:52:38,842 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = mom-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 15:52:38,942 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 15:52:38,942 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 15:52:38,980 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 15:52:38,983 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=mom-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 15:52:38,988 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 15:52:38,990 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 15:52:38,992 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 15:52:38,993 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 15:52:39,000 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f27e7f29-9732-4908-a5de-8d58f5b081f8 ---------
*requestTimeStamp:2022-01-29T15:52:38.819
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/01-1a-ticket_19555365_data_stagea.json"
} 
--------- TEST-STEP-CORRELATION-ID: f27e7f29-9732-4908-a5de-8d58f5b081f8 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T15:52:38.988 
*Response delay:169.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 15:52:39,122 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 15:52:39,169 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 15:57:25,570 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:57:25,959 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:57:26,007 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:57:26,021 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 15:57:26,128 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 15:57:26,141 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 15:57:26,177 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 15:57:26,178 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1a-ticket19555365_stagea_PURE_JSON.json"}
2022-01-29 15:57:26,204 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = mom-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 15:57:26,330 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 15:57:26,330 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 15:57:26,380 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 15:57:26,384 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=mom-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 15:57:26,391 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 15:57:26,394 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 15:57:26,397 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 15:57:26,400 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 15:57:26,410 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f950393d-cc20-4ca1-9d01-dce46da9e7e7 ---------
*requestTimeStamp:2022-01-29T15:57:26.173
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1a-ticket19555365_stagea_PURE_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: f950393d-cc20-4ca1-9d01-dce46da9e7e7 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T15:57:26.390 
*Response delay:217.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 15:57:26,540 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 15:57:26,600 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 15:58:29,478 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:58:29,854 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:58:29,904 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 15:58:29,917 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 15:58:30,006 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 15:58:30,018 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 15:58:30,052 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 15:58:30,052 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1a-ticket19555365_stagea_PURE_JSON.json"}
2022-01-29 15:58:30,073 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 15:58:30,178 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 15:58:30,179 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 15:58:30,229 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 15:58:30,234 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 15:58:30,240 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 15:58:30,243 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 15:58:30,245 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 15:58:30,247 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 15:58:30,255 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 0156ed9b-edca-4fb6-b301-3f06cff83d58 ---------
*requestTimeStamp:2022-01-29T15:58:30.048
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1a-ticket19555365_stagea_PURE_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 0156ed9b-edca-4fb6-b301-3f06cff83d58 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T15:58:30.240 
*Response delay:192.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 15:58:30,377 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 15:58:30,435 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:20:34,351 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:20:34,812 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:20:34,867 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:20:34,880 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:20:34,974 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:20:34,984 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:20:35,019 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:20:35,020 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:20:35,055 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:20:35,173 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:20:35,174 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:20:35,221 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.databind.JsonMappingException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
 at [Source: (String)"{"key":"38373837383","value":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383",}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30",ttt"TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities""[truncated 875 chars]; line: 1, column: 159] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord["value"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:353) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1714) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:530) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:417) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
 at [Source: (String)"{"key":"38373837383","value":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383",}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30",ttt"TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities""[truncated 875 chars]; line: 1, column: 191]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1840) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:712) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:637) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1781) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:932) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer.deserializeObject(JsonNodeDeserializer.java:250) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer.deserializeObject(JsonNodeDeserializer.java:258) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer.deserializeObject(JsonNodeDeserializer.java:258) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:68) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:15) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:530) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:528) ~[jackson-databind-2.10.0.jar:2.10.0]
	... 33 common frames omitted
2022-01-29 16:20:35,224 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:20:35,229 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:20:35,232 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 16:20:35,233 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 16:20:35,234 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:20:35,241 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: d559c358-339a-4c58-8c9c-36090835d415 ---------
*requestTimeStamp:2022-01-29T16:20:35.014
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: d559c358-339a-4c58-8c9c-36090835d415 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected character ('}' (code 125)): was expecting double-quote to start field name\n at [Source: (String)\"{\"key\":\"38373837383\",\"value\":{\"version\":\"2.47.948\",\"identity\":{\"id\":\"eue8372kss-fkd8483-ke8e83\",\"parentId\":null,\"externalIds\":{\"DeviceType\":\"45\",\"TrackingId\":\"wujs73737-eusjs5253-oe948383\",}},\"stream\":\"data-stagea\",\"message\":{\"Data\":[{\"Data\":{\"SubTotalAmount\":\"25.30\",\"TaxAmount\":\"0.33\",\"TotalAmount\":\"25.30\",ttt\"TicketNumber\":\"19555365\",\"TaxByTaxRules\":[{\"RuleSequenceNo\":0,\"TaxCategoryId\":45556,\"TaxCategoryName\":\"InclusiveTax\",\"TaxRate\":6,\"RuleCode\":\"1\",\"TaxableQtyInStockingUnits\":1,\"Authorities\"\"[truncated 875 chars]; line: 1, column: 159] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord[\"value\"])",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T16:20:35.229 
*Response delay:215.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 16:20:35,363 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:20:35,416 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:27:38,726 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:27:39,203 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:27:39,258 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:27:39,274 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:27:39,392 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:27:39,406 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:27:39,454 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:27:39,455 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:27:39,498 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:27:39,647 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:27:39,647 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:27:39,703 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:27:39,705 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":3837383},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:27:39,835 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:27:39,868 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:27:39,869 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 0 
2022-01-29 16:27:39,879 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":0,"timestamp":1643491659842,"serializedKeySize":11,"serializedValueSize":1341,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:27:39,879 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:27:39,888 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:27:39,893 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:27:39,895 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 9ca175dd-4438-4537-bdc6-1fd92902673a ---------
*requestTimeStamp:2022-01-29T16:27:39.447
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 9ca175dd-4438-4537-bdc6-1fd92902673a ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 0,
    "timestamp" : 1643491659842,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1341,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:27:39.888 
*Response delay:441.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:27:39,897 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:27:39,897 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:27:39,898 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:27:39,904 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:27:39,905 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:27:39,910 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
java.lang.RuntimeException: Error accessing file: `produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json' - java.lang.NullPointerException
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.validateAndGetFile(KafkaSender.java:199) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:101) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 16:27:39,913 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:27:39,916 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:27:39,917 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 16:27:39,918 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stageb, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'

2022-01-29 16:27:39,920 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stageb] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:27:39,927 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f9e11cb6-ac3d-438e-b4d2-9715d9ed8330 ---------
*requestTimeStamp:2022-01-29T16:27:39.897
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: f9e11cb6-ac3d-438e-b4d2-9715d9ed8330 ---------
Response:
{
  "status" : "Failed",
  "message" : "Error accessing file: `produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json' - java.lang.NullPointerException",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T16:27:39.916 
*Response delay:19.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
 
 
-done-

2022-01-29 16:27:40,058 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:27:40,117 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:28:55,052 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:28:55,454 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:28:55,501 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:28:55,514 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:28:55,605 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:28:55,615 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:28:55,647 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:28:55,647 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:28:55,669 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:28:55,793 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:28:55,793 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:28:55,837 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:28:55,839 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":3837383},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:28:55,968 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:28:55,995 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:28:55,996 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 1 
2022-01-29 16:28:56,003 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":1,"timestamp":1643491735973,"serializedKeySize":11,"serializedValueSize":1341,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:28:56,003 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:28:56,011 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:28:56,014 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:28:56,016 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 29cc7a97-3484-4926-92d3-737f3d23d79c ---------
*requestTimeStamp:2022-01-29T16:28:55.644
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 29cc7a97-3484-4926-92d3-737f3d23d79c ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 1,
    "timestamp" : 1643491735973,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1341,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:28:56.010 
*Response delay:366.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:28:56,018 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:28:56,019 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:28:56,019 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:28:56,025 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:28:56,025 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:28:56,030 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
java.lang.RuntimeException: Error accessing file: `produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json' - java.lang.NullPointerException
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.validateAndGetFile(KafkaSender.java:199) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:101) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 16:28:56,032 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:28:56,035 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:28:56,036 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 16:28:56,037 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stageb, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'

2022-01-29 16:28:56,039 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stageb] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:28:56,045 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: c2d1d90a-a4d6-43be-bd77-26b52f187d32 ---------
*requestTimeStamp:2022-01-29T16:28:56.018
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: c2d1d90a-a4d6-43be-bd77-26b52f187d32 ---------
Response:
{
  "status" : "Failed",
  "message" : "Error accessing file: `produce_data/2b-ticket19555365_stageb_SingleLine_JSON.json' - java.lang.NullPointerException",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T16:28:56.035 
*Response delay:17.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
 
 
-done-

2022-01-29 16:28:56,168 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:28:56,223 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:29:35,072 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:29:35,533 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:29:35,581 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:29:35,594 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:29:35,695 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:29:35,708 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:29:35,745 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:29:35,746 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:29:35,782 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:29:35,932 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:29:35,932 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:29:35,982 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:29:35,983 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":3837383},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:29:36,115 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:29:36,145 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:29:36,145 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 2 
2022-01-29 16:29:36,154 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":2,"timestamp":1643491776119,"serializedKeySize":11,"serializedValueSize":1341,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:29:36,154 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:29:36,162 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:29:36,166 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:29:36,169 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b8670f0b-7e6a-47db-a44e-92548882e024 ---------
*requestTimeStamp:2022-01-29T16:29:35.741
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: b8670f0b-7e6a-47db-a44e-92548882e024 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 2,
    "timestamp" : 1643491776119,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1341,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:29:36.161 
*Response delay:420.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:29:36,170 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:29:36,171 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:29:36,172 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:29:36,177 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:29:36,177 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:29:36,186 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "partitionKey" (class org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord), not marked as ignorable (4 known properties: "value", "headers", "key", "jsonKey"])
 at [Source: (String)"{"key":"38373837383","value":{"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":3837383,"TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"Rul"[truncated 850 chars]; line: 1, column: 1351] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord["partitionKey"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:840) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1179) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1592) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperties(BeanDeserializerBase.java:1542) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:504) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 16:29:36,189 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:29:36,192 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:29:36,192 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 16:29:36,194 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stageb, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'

2022-01-29 16:29:36,196 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stageb] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:29:36,201 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: d25b671c-77b6-4919-bcf1-89dc151ff2b1 ---------
*requestTimeStamp:2022-01-29T16:29:36.170
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: d25b671c-77b6-4919-bcf1-89dc151ff2b1 ---------
Response:
{
  "status" : "Failed",
  "message" : "Unrecognized field \"partitionKey\" (class org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord), not marked as ignorable (4 known properties: \"value\", \"headers\", \"key\", \"jsonKey\"])\n at [Source: (String)\"{\"key\":\"38373837383\",\"value\":{\"version\":\"2.47.948\",\"identity\":{\"id\":\"uejdu636737-hdte6363-mcjd8843\",\"parentId\":\"kdkd838-74uk7d7j4-dj73jdie\",\"externalIds\":{\"DeviceType\":\"45\",\"TrackingId\":\"wujs73737-eusjs5253-oe948383\",\"CustomerId\":3837383,\"TicketNumber\":\"19555365\"}},\"stream\":\"data-stageb\",\"message\":{\"SubTotalAmount\":\"25.30\",\"TaxAmount\":\"0.33\",\"TotalAmount\":\"25.30\",\"TicketNumber\":\"19555365\",\"TaxByTaxRules\":[{\"RuleSequenceNo\":0,\"TaxCategoryId\":45556,\"TaxCategoryName\":\"InclusiveTax\",\"TaxRate\":6,\"Rul\"[truncated 850 chars]; line: 1, column: 1351] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord[\"partitionKey\"])",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T16:29:36.191 
*Response delay:21.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stageb'
 
 
-done-

2022-01-29 16:29:36,324 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:29:36,378 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:33:32,777 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:33:33,173 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:33:33,220 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:33:33,235 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:33:33,329 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:33:33,342 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:33:33,381 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:33:33,382 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:33:33,410 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:33:33,560 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:33:33,560 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:33:33,607 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:33:33,608 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":3837383},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:33:33,739 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:33:33,769 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:33:33,770 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 3 
2022-01-29 16:33:33,777 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":3,"timestamp":1643492013744,"serializedKeySize":11,"serializedValueSize":1341,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:33:33,778 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:33:33,785 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:33:33,788 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:33:33,791 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: ccc49b50-7508-4373-9374-d9d888fc8c47 ---------
*requestTimeStamp:2022-01-29T16:33:33.377
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: ccc49b50-7508-4373-9374-d9d888fc8c47 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 3,
    "timestamp" : 1643492013744,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1341,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:33:33.785 
*Response delay:408.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:33:33,792 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:33:33,793 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:33:33,794 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:33:33,798 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:33:33,799 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:33:33,801 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:33:33,801 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":3837383,"TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 16:33:33,809 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:33:33,822 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:33:33,822 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 0 
2022-01-29 16:33:33,822 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":0,"timestamp":1643492013809,"serializedKeySize":11,"serializedValueSize":1320,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 16:33:33,822 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:33:33,826 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:33:33,827 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 16:33:33,827 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 641e8bf0-502e-4df4-82ea-47328f7960f7 ---------
*requestTimeStamp:2022-01-29T16:33:33.792
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 641e8bf0-502e-4df4-82ea-47328f7960f7 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 0,
    "timestamp" : 1643492013809,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1320,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T16:33:33.826 
*Response delay:34.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 16:33:33,828 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:33:33,828 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:33:33,838 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 16:33:33,847 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:33:33,875 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:33:33,875 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:33:33,876 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:33:33,886 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:33:33,898 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 4.
2022-01-29 16:33:33,898 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:33:33,898 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:33:33,913 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:33:33,914 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:33:33,914 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":3837383},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 3, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:33:34,420 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:33:34,427 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:33:35,431 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:33:36,434 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:33:37,435 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:33:38,451 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:33:38,452 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 16:33:38,452 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a897cc09-2af5-421b-86a2-fdfaf6b0a810 ---------
*requestTimeStamp:2022-01-29T16:33:33.828
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: a897cc09-2af5-421b-86a2-fdfaf6b0a810 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : 3837383
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:33:38.450 
*Response delay:4622.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 16:33:38,453 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:33:38,453 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:33:38,455 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 16:33:38,456 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:33:38,459 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:33:38,460 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:33:38,460 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:33:38,466 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:33:38,473 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 1.
2022-01-29 16:33:38,473 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:33:38,473 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:33:38,477 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:33:38,478 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:33:38,478 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":3837383,"TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 0, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:33:38,982 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:33:38,988 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:33:39,993 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:33:40,998 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:33:42,001 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:33:43,011 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:33:43,016 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.identity.externalIds.CustomerId' with actual value '3837383' did not match the expected value '3837383'

2022-01-29 16:33:43,017 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.identity.externalIds.CustomerId' with actual value '3837383' did not match the expected value '3837383'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:33:43,022 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: e0c8d420-5863-4206-b627-2c475a0510b9 ---------
*requestTimeStamp:2022-01-29T16:33:38.453
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: e0c8d420-5863-4206-b627-2c475a0510b9 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : 3837383,
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:33:43.008 
*Response delay:4555.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.identity.externalIds.CustomerId" : "3837383",
    "value.identity.externalIds.DeviceType" : "45",
    "value.identity.externalIds.TicketNumber" : "19555365"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.identity.externalIds.CustomerId' with actual value '3837383' did not match the expected value '3837383'
 
 
-done-

2022-01-29 16:33:43,141 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:33:43,192 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:34:47,102 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:34:47,485 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:34:47,531 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:34:47,543 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:34:47,623 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:34:47,633 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:34:47,664 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:34:47,664 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1a-ticket19555365_stagea_PURE_JSON.json"}
2022-01-29 16:34:47,683 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:34:47,781 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:34:47,781 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:34:47,819 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)"{"; line: 1, column: 1])
 at [Source: (String)"{"; line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:664) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:486) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:498) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2354) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:671) ~[jackson-core-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:155) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:107) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 16:34:47,821 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:34:47,826 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:34:47,828 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 16:34:47,829 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 16:34:47,831 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:34:47,837 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 8cf41e4f-7ca4-49d8-a0e7-d8462502d21c ---------
*requestTimeStamp:2022-01-29T16:34:47.660
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1a-ticket19555365_stagea_PURE_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 8cf41e4f-7ca4-49d8-a0e7-d8462502d21c ---------
Response:
{
  "status" : "Failed",
  "message" : "Unexpected end-of-input: expected close marker for Object (start marker at [Source: (String)\"{\"; line: 1, column: 1])\n at [Source: (String)\"{\"; line: 1, column: 3]",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T16:34:47.826 
*Response delay:166.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 16:34:47,956 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:34:48,003 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:41:15,462 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:41:15,932 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:41:15,990 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:41:16,003 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:41:16,099 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:41:16,110 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:41:16,143 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:41:16,144 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:41:16,171 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:41:16,283 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:41:16,283 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:41:16,324 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:41:16,326 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:41:16,450 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:41:16,475 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:41:16,475 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 4 
2022-01-29 16:41:16,482 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":4,"timestamp":1643492476455,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:41:16,482 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:41:16,489 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:41:16,492 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:41:16,494 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 300793d7-65ba-4746-9143-24706fa2ca07 ---------
*requestTimeStamp:2022-01-29T16:41:16.139
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 300793d7-65ba-4746-9143-24706fa2ca07 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 4,
    "timestamp" : 1643492476455,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:41:16.488 
*Response delay:349.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:41:16,495 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:41:16,496 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:41:16,496 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:41:16,501 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:41:16,501 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:41:16,503 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:41:16,503 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 16:41:16,510 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:41:16,517 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:41:16,518 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 1 
2022-01-29 16:41:16,518 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":1,"timestamp":1643492476510,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 16:41:16,518 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:41:16,521 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:41:16,521 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 16:41:16,521 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f5d2c05e-4fd0-4051-8962-5f0a0b1914c3 ---------
*requestTimeStamp:2022-01-29T16:41:16.495
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: f5d2c05e-4fd0-4051-8962-5f0a0b1914c3 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 1,
    "timestamp" : 1643492476510,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T16:41:16.520 
*Response delay:25.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 16:41:16,522 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:41:16,522 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:41:16,530 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 16:41:16,537 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:41:16,562 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:41:16,562 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:41:16,563 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:41:16,573 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:41:16,583 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 5.
2022-01-29 16:41:16,583 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:41:16,584 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:41:16,596 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:41:16,597 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:41:16,597 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 4, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:41:17,101 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:41:17,108 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:41:18,113 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:41:19,116 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:41:20,117 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:41:21,131 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:41:21,133 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 16:41:21,133 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: fbafe201-b60a-40bd-8e3d-39883cb3ce91 ---------
*requestTimeStamp:2022-01-29T16:41:16.522
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: fbafe201-b60a-40bd-8e3d-39883cb3ce91 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:41:21.131 
*Response delay:4609.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 16:41:21,134 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:41:21,134 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:41:21,136 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 16:41:21,137 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:41:21,140 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:41:21,140 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:41:21,140 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:41:21,145 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:41:21,151 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 2.
2022-01-29 16:41:21,151 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:41:21,151 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:41:21,155 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:41:21,155 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:41:21,156 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 1, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:41:21,663 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:41:21,669 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:41:22,670 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:41:23,677 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:41:24,678 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:41:25,688 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:41:25,689 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stageb
2022-01-29 16:41:25,689 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: e3f3eafa-2820-4671-9db7-0ab1520fbb3e ---------
*requestTimeStamp:2022-01-29T16:41:21.134
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: e3f3eafa-2820-4671-9db7-0ab1520fbb3e ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:41:25.684 
*Response delay:4550.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1,
  "records" : [ {
    "value.identity.externalIds.CustomerId" : "3837383",
    "value.identity.externalIds.DeviceType" : "45",
    "value.identity.externalIds.TicketNumber" : "19555365"
  } ]
} 
 
-done-

2022-01-29 16:41:25,812 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - 
**FINISHED executing all Steps for [E2E - Verify a Sale ticket] **.
Steps were:[produce_to_stagea, produce_to_stageb, consume_from_stagea, consume_from_stageb]
2022-01-29 16:41:25,814 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:41:25,873 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:43:06,594 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:43:07,048 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:43:07,097 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:43:07,111 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:43:07,217 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:43:07,232 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:43:07,277 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:43:07,278 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:43:07,306 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:43:07,450 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:43:07,451 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:43:07,503 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:43:07,504 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:43:07,637 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:43:07,664 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:43:07,665 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 5 
2022-01-29 16:43:07,672 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":5,"timestamp":1643492587642,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:43:07,673 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:43:07,682 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:43:07,686 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:43:07,690 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a6b9d7d3-a751-4432-870b-9a63f0baee2f ---------
*requestTimeStamp:2022-01-29T16:43:07.272
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: a6b9d7d3-a751-4432-870b-9a63f0baee2f ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 5,
    "timestamp" : 1643492587642,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:43:07.682 
*Response delay:410.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:43:07,691 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:43:07,691 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:43:07,692 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:43:07,699 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:43:07,699 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:43:07,701 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:43:07,702 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 16:43:07,711 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:43:07,722 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:43:07,723 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 2 
2022-01-29 16:43:07,723 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":2,"timestamp":1643492587711,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 16:43:07,723 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:43:07,728 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:43:07,729 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 16:43:07,730 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: dc5b614b-7b3c-4329-bd5f-85830b044156 ---------
*requestTimeStamp:2022-01-29T16:43:07.691
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: dc5b614b-7b3c-4329-bd5f-85830b044156 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 2,
    "timestamp" : 1643492587711,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T16:43:07.728 
*Response delay:37.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 16:43:07,730 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:43:07,731 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:43:07,742 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 16:43:07,750 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:43:07,776 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:43:07,776 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:43:07,777 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:43:07,787 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:43:07,799 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 6.
2022-01-29 16:43:07,799 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:43:07,800 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:43:07,813 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:43:07,813 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:43:07,814 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 5, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:43:08,318 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:43:08,326 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:43:09,331 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:43:10,334 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:43:11,339 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:43:12,357 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:43:12,358 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 16:43:12,358 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: e315a23b-1b54-4d76-8702-fdc751206251 ---------
*requestTimeStamp:2022-01-29T16:43:07.730
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: e315a23b-1b54-4d76-8702-fdc751206251 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:43:12.356 
*Response delay:4626.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 16:43:12,359 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:43:12,359 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:43:12,362 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 16:43:12,363 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:43:12,366 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:43:12,366 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:43:12,366 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:43:12,372 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:43:12,377 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 3.
2022-01-29 16:43:12,377 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:43:12,377 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:43:12,380 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:43:12,380 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:43:12,380 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 2, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:43:12,886 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:43:12,892 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:43:13,893 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:43:14,896 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:43:15,898 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:43:16,910 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:43:16,911 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stageb
2022-01-29 16:43:16,911 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a204f02f-b5f3-4f9b-968e-4892e9380e24 ---------
*requestTimeStamp:2022-01-29T16:43:12.359
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: a204f02f-b5f3-4f9b-968e-4892e9380e24 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:43:16.906 
*Response delay:4547.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1,
  "records" : [ {
    "value.identity.externalIds.CustomerId" : "3837383",
    "value.identity.externalIds.DeviceType" : "45",
    "value.identity.externalIds.TicketNumber" : "19555365"
  } ]
} 
 
-done-

2022-01-29 16:43:17,032 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - 
**FINISHED executing all Steps for [E2E - Verify a Sale ticket] **.
Steps were:[produce_to_stagea, produce_to_stageb, consume_from_stagea, consume_from_stageb]
2022-01-29 16:43:17,034 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:43:17,088 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:50:07,919 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:50:08,293 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:50:08,339 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:50:08,352 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:50:08,431 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:50:08,441 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:50:08,475 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:50:08,476 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:50:08,498 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:50:08,604 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:50:08,604 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:50:08,642 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:50:08,644 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:50:08,738 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:50:08,758 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:50:08,758 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 6 
2022-01-29 16:50:08,764 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":6,"timestamp":1643493008742,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:50:08,764 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:50:08,769 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:50:08,772 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:50:08,773 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 99c58ec8-9b3e-4f93-8241-c2cef9a71a58 ---------
*requestTimeStamp:2022-01-29T16:50:08.471
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 99c58ec8-9b3e-4f93-8241-c2cef9a71a58 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 6,
    "timestamp" : 1643493008742,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:50:08.769 
*Response delay:298.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:50:08,774 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:50:08,774 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:50:08,775 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:50:08,779 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:50:08,779 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:50:08,780 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:50:08,780 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 16:50:08,786 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:50:08,791 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:50:08,791 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 3 
2022-01-29 16:50:08,792 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":3,"timestamp":1643493008786,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 16:50:08,792 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:50:08,794 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:50:08,795 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 16:50:08,795 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 6e253d90-338f-4652-85a4-073568852029 ---------
*requestTimeStamp:2022-01-29T16:50:08.774
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 6e253d90-338f-4652-85a4-073568852029 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 3,
    "timestamp" : 1643493008786,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T16:50:08.794 
*Response delay:20.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 16:50:08,796 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:50:08,796 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:50:08,803 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 16:50:08,807 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:50:08,824 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:50:08,824 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:50:08,824 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:50:08,830 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:50:08,837 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 7.
2022-01-29 16:50:08,837 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:50:08,838 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:50:08,847 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:50:08,847 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:50:08,847 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 6, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:50:09,355 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:50:09,362 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:50:10,362 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:50:11,364 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:50:12,367 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:50:13,386 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:50:13,388 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 16:50:13,388 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 05ac78ce-4633-4f39-8fc7-a4f89d83501e ---------
*requestTimeStamp:2022-01-29T16:50:08.796
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 05ac78ce-4633-4f39-8fc7-a4f89d83501e ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:50:13.386 
*Response delay:4590.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 16:50:13,389 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:50:13,389 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:50:13,391 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 16:50:13,392 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:50:13,395 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:50:13,395 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:50:13,396 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:50:13,403 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:50:13,409 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 4.
2022-01-29 16:50:13,409 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:50:13,409 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:50:13,413 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:50:13,413 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:50:13,413 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 3, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:50:13,919 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:50:13,925 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:50:14,928 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:50:15,930 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:50:16,933 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:50:17,943 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 16:50:17,944 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.TaxByTaxRules.TaxRate":"${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules.TaxRate}"}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules.TaxRate,
Details: com.jayway.jsonpath.PathNotFoundException: Expected to find an object with property ['TaxRate'] in path $['consume_from_stagea']['response']['records'][0]['value']['message']['Data'][0]['Data']['TaxByTaxRules'] but found 'net.minidev.json.JSONArray'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JsonSmartJsonProvider'.
2022-01-29 16:50:17,949 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 5e9168ee-9de3-423d-a7da-b8b65158b831 ---------
*requestTimeStamp:2022-01-29T16:50:13.389
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 5e9168ee-9de3-423d-a7da-b8b65158b831 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:50:17.943 
*Response delay:4554.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 16:50:18,072 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:50:18,130 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 16:53:16,916 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:53:17,293 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:53:17,342 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 16:53:17,357 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 16:53:17,443 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 16:53:17,457 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 16:53:17,495 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:53:17,496 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 16:53:17,521 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:53:17,644 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:53:17,644 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:53:17,691 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:53:17,693 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 16:53:17,821 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:53:17,846 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:53:17,846 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 7 
2022-01-29 16:53:17,853 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":7,"timestamp":1643493197825,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 16:53:17,854 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:53:17,861 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:53:17,864 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 16:53:17,867 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b1f07ffa-c799-4fc3-b1f1-f35c41386641 ---------
*requestTimeStamp:2022-01-29T16:53:17.491
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: b1f07ffa-c799-4fc3-b1f1-f35c41386641 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 7,
    "timestamp" : 1643493197825,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T16:53:17.860 
*Response delay:369.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 16:53:17,868 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:53:17,869 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 16:53:17,870 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 16:53:17,876 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:53:17,877 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:53:17,878 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 16:53:17,879 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 16:53:17,888 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:53:17,899 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 16:53:17,900 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 4 
2022-01-29 16:53:17,900 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":4,"timestamp":1643493197888,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 16:53:17,900 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 16:53:17,905 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:53:17,906 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 16:53:17,906 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a0c68d3c-5bb6-4484-a3c0-36eef9b6b8ad ---------
*requestTimeStamp:2022-01-29T16:53:17.868
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: a0c68d3c-5bb6-4484-a3c0-36eef9b6b8ad ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 4,
    "timestamp" : 1643493197888,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T16:53:17.905 
*Response delay:37.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 16:53:17,907 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:53:17,907 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:53:17,915 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 16:53:17,921 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:53:17,945 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:53:17,945 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:53:17,946 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:53:17,955 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:53:17,966 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 8.
2022-01-29 16:53:17,966 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:53:17,967 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:53:17,979 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:53:17,980 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:53:17,980 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 7, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:53:18,484 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:53:18,491 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:53:19,496 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:53:20,500 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:53:21,504 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:53:22,521 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:53:22,523 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 16:53:22,523 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 0e75019d-edba-4a62-9205-2f1dee278f79 ---------
*requestTimeStamp:2022-01-29T16:53:17.907
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 0e75019d-edba-4a62-9205-2f1dee278f79 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:53:22.521 
*Response delay:4614.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 16:53:22,524 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 16:53:22,525 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 16:53:22,527 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 16:53:22,528 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 16:53:22,531 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 16:53:22,531 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 16:53:22,532 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 16:53:22,537 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 16:53:22,543 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 5.
2022-01-29 16:53:22,543 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 16:53:22,543 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 16:53:22,547 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 16:53:22,547 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 16:53:22,547 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 4, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 16:53:23,053 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 16:53:23,059 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 16:53:24,062 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 16:53:25,066 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 16:53:26,067 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 16:53:27,076 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 16:53:27,081 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].TaxRate' with actual value '6' did not match the expected value '6'

2022-01-29 16:53:27,083 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].TaxRate' with actual value '6' did not match the expected value '6'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 16:53:27,087 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: be9e4dfe-1413-4290-9c65-3db3bb4dca6f ---------
*requestTimeStamp:2022-01-29T16:53:22.524
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: be9e4dfe-1413-4290-9c65-3db3bb4dca6f ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T16:53:27.073 
*Response delay:4549.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message.TaxByTaxRules[0].TaxRate" : "6"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].TaxRate' with actual value '6' did not match the expected value '6'
 
 
-done-

2022-01-29 16:53:27,209 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 16:53:27,268 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:02:19,620 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:02:20,049 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:02:20,096 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:02:20,109 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:02:20,223 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:02:20,237 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:02:20,276 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:02:20,276 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:02:20,303 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:02:20,440 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:02:20,440 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:02:20,489 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:02:20,491 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:02:20,617 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:02:20,644 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:02:20,644 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 8 
2022-01-29 17:02:20,653 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":8,"timestamp":1643493740622,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:02:20,654 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:02:20,662 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:02:20,665 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:02:20,668 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 9bedb385-92e8-4be7-91f8-100a323859f8 ---------
*requestTimeStamp:2022-01-29T17:02:20.271
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 9bedb385-92e8-4be7-91f8-100a323859f8 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 8,
    "timestamp" : 1643493740622,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:02:20.661 
*Response delay:390.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:02:20,669 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:02:20,670 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:02:20,671 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:02:20,678 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:02:20,678 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:02:20,680 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:02:20,680 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:02:20,688 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:02:20,698 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:02:20,698 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 5 
2022-01-29 17:02:20,698 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":5,"timestamp":1643493740688,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:02:20,699 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:02:20,703 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:02:20,704 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:02:20,704 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 1e56e908-6de2-4151-92d4-c2d0d9de8f4f ---------
*requestTimeStamp:2022-01-29T17:02:20.669
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 1e56e908-6de2-4151-92d4-c2d0d9de8f4f ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 5,
    "timestamp" : 1643493740688,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:02:20.703 
*Response delay:34.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:02:20,705 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:02:20,705 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:02:20,715 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:02:20,720 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:02:20,744 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:02:20,744 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:02:20,745 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:02:20,753 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:02:20,764 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 9.
2022-01-29 17:02:20,765 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:02:20,765 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:02:20,777 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:02:20,778 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:02:20,778 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 8, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:02:21,285 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:02:21,294 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:02:22,298 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:02:23,303 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:02:24,304 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:02:25,318 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:02:25,320 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:02:25,320 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 9d4ce6b1-0310-464d-a774-70e13b0a44cd ---------
*requestTimeStamp:2022-01-29T17:02:20.705
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 9d4ce6b1-0310-464d-a774-70e13b0a44cd ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:02:25.318 
*Response delay:4613.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:02:25,320 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:02:25,321 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:02:25,323 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:02:25,324 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:02:25,327 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:02:25,327 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:02:25,327 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:02:25,333 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:02:25,338 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 6.
2022-01-29 17:02:25,338 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:02:25,338 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:02:25,341 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:02:25,342 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:02:25,342 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 5, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:02:25,848 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:02:25,853 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:02:26,857 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:02:27,862 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:02:28,863 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:02:29,875 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:02:29,878 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'

2022-01-29 17:02:29,880 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:02:29,884 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 6c9ef4bd-9551-4d56-80bd-92da6fe9e263 ---------
*requestTimeStamp:2022-01-29T17:02:25.320
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 6c9ef4bd-9551-4d56-80bd-92da6fe9e263 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:02:29.868 
*Response delay:4548.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message.TaxByTaxRules[0].Authorities" : "[{\"AuthoritySequenceNo\":0,\"AuthorityName\":\"Default\"}]"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
 
 
-done-

2022-01-29 17:02:30,006 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:02:30,067 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:09:54,979 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:09:55,345 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:09:55,392 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:09:55,404 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:09:55,485 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:09:55,496 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:09:55,526 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:09:55,527 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:09:55,547 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:09:55,648 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:09:55,648 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:09:55,681 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:09:55,682 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:09:55,775 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:09:55,799 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:09:55,799 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 9 
2022-01-29 17:09:55,806 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":9,"timestamp":1643494195780,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:09:55,806 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:09:55,812 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:09:55,815 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:09:55,817 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 6a80d600-038e-447f-84f0-9cf597780c36 ---------
*requestTimeStamp:2022-01-29T17:09:55.523
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 6a80d600-038e-447f-84f0-9cf597780c36 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 9,
    "timestamp" : 1643494195780,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:09:55.812 
*Response delay:289.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:09:55,818 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:09:55,818 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:09:55,819 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:09:55,823 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:09:55,823 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:09:55,825 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:09:55,825 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:09:55,829 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:09:55,836 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:09:55,836 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 6 
2022-01-29 17:09:55,836 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":6,"timestamp":1643494195830,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:09:55,836 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:09:55,839 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:09:55,839 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:09:55,839 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 90fd4da8-0f0b-4963-b145-6a21e0fa3fe9 ---------
*requestTimeStamp:2022-01-29T17:09:55.818
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 90fd4da8-0f0b-4963-b145-6a21e0fa3fe9 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 6,
    "timestamp" : 1643494195830,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:09:55.839 
*Response delay:21.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:09:55,840 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:09:55,840 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:09:55,846 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:09:55,850 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:09:55,867 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:09:55,867 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:09:55,868 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:09:55,873 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:09:55,880 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 10.
2022-01-29 17:09:55,880 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:09:55,880 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:09:55,889 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:09:55,889 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:09:55,889 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 9, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:09:56,394 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:09:56,400 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:09:57,400 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:09:58,401 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:09:59,401 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:10:00,418 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:10:00,419 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:10:00,419 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a748fa6d-7f4b-4a55-ba87-f55e59bf546a ---------
*requestTimeStamp:2022-01-29T17:09:55.840
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: a748fa6d-7f4b-4a55-ba87-f55e59bf546a ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:10:00.418 
*Response delay:4578.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:10:00,420 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:10:00,421 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:10:00,425 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:10:00,428 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:10:00,432 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:10:00,432 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:10:00,432 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:10:00,438 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:10:00,443 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 7.
2022-01-29 17:10:00,443 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:10:00,444 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:10:00,448 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:10:00,448 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:10:00,448 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 6, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:10:00,953 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:10:00,958 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:10:01,962 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:10:02,966 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:10:03,968 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:10:04,979 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:10:04,982 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'

2022-01-29 17:10:04,983 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:10:04,987 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 08c506bb-788e-4111-a083-61223bf4136f ---------
*requestTimeStamp:2022-01-29T17:10:00.420
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 08c506bb-788e-4111-a083-61223bf4136f ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:10:04.973 
*Response delay:4553.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message.TaxByTaxRules[0].Authorities" : "[{\"AuthoritySequenceNo\":0,\"AuthorityName\":\"Default\"}]"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
 
 
-done-

2022-01-29 17:10:05,113 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:10:05,172 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:13:11,388 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:13:11,763 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:13:11,810 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:13:11,823 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:13:11,902 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:13:11,913 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:13:11,944 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:13:11,945 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:13:11,966 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:13:12,062 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:13:12,062 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:13:12,096 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:13:12,097 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:13:12,192 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:13:12,212 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:13:12,212 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 10 
2022-01-29 17:13:12,219 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":10,"timestamp":1643494392196,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:13:12,219 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:13:12,226 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:13:12,228 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:13:12,230 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: c492b9e3-4f04-45b4-b775-ffbcad059909 ---------
*requestTimeStamp:2022-01-29T17:13:11.941
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: c492b9e3-4f04-45b4-b775-ffbcad059909 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 10,
    "timestamp" : 1643494392196,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:13:12.225 
*Response delay:284.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:13:12,232 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:13:12,232 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:13:12,233 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:13:12,237 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:13:12,237 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:13:12,239 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:13:12,239 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:13:12,244 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:13:12,250 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:13:12,250 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 7 
2022-01-29 17:13:12,251 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":7,"timestamp":1643494392244,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:13:12,251 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:13:12,253 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:13:12,254 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:13:12,254 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b2dd81db-f860-4086-87f5-238f5532f1be ---------
*requestTimeStamp:2022-01-29T17:13:12.232
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: b2dd81db-f860-4086-87f5-238f5532f1be ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 7,
    "timestamp" : 1643494392244,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:13:12.253 
*Response delay:21.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:13:12,254 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:13:12,255 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:13:12,261 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:13:12,266 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:13:12,282 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:13:12,282 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:13:12,283 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:13:12,289 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:13:12,296 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 11.
2022-01-29 17:13:12,297 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:13:12,297 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:13:12,306 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:13:12,306 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:13:12,306 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 10, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:13:12,810 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:13:12,816 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:13:13,820 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:13:14,821 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:13:15,823 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:13:16,836 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:13:16,837 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:13:16,837 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: e058fcc4-0af3-4e72-9ad2-7758abe27ac5 ---------
*requestTimeStamp:2022-01-29T17:13:12.254
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: e058fcc4-0af3-4e72-9ad2-7758abe27ac5 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:13:16.836 
*Response delay:4582.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:13:16,838 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:13:16,839 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:13:16,841 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:13:16,842 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:13:16,845 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:13:16,845 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:13:16,845 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:13:16,852 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:13:16,858 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 8.
2022-01-29 17:13:16,858 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:13:16,858 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:13:16,863 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:13:16,863 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:13:16,863 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 7, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:13:17,368 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:13:17,374 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:13:18,379 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:13:19,380 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:13:20,381 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:13:21,394 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:13:21,397 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'

2022-01-29 17:13:21,398 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:13:21,402 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b78ab51c-9d2f-4122-a1c2-b251ad1861ce ---------
*requestTimeStamp:2022-01-29T17:13:16.838
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: b78ab51c-9d2f-4122-a1c2-b251ad1861ce ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:13:21.388 
*Response delay:4550.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message.TaxByTaxRules[0].Authorities" : "[{\"AuthoritySequenceNo\":0,\"AuthorityName\":\"Default\"}]"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities' with actual value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
 
 
-done-

2022-01-29 17:13:21,522 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:13:21,586 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:15:46,456 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:15:46,888 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:15:46,934 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:15:46,947 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:15:47,026 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:15:47,037 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:15:47,068 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:15:47,068 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:15:47,088 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:15:47,191 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:15:47,191 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:15:47,234 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:15:47,236 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:15:47,357 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:15:47,376 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:15:47,377 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 11 
2022-01-29 17:15:47,382 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":11,"timestamp":1643494547361,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:15:47,382 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:15:47,388 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:15:47,390 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:15:47,392 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 30dcefd6-620c-431d-a1a7-d76b6693675a ---------
*requestTimeStamp:2022-01-29T17:15:47.065
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 30dcefd6-620c-431d-a1a7-d76b6693675a ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 11,
    "timestamp" : 1643494547361,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:15:47.387 
*Response delay:322.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:15:47,393 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:15:47,393 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:15:47,394 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:15:47,397 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:15:47,398 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:15:47,399 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:15:47,399 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:15:47,404 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:15:47,410 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:15:47,410 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 8 
2022-01-29 17:15:47,410 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":8,"timestamp":1643494547404,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:15:47,410 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:15:47,413 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:15:47,414 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:15:47,414 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 37a92630-4b7a-4a87-9b18-d6f9b032c664 ---------
*requestTimeStamp:2022-01-29T17:15:47.393
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 37a92630-4b7a-4a87-9b18-d6f9b032c664 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 8,
    "timestamp" : 1643494547404,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:15:47.413 
*Response delay:20.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:15:47,414 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:15:47,415 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:15:47,421 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:15:47,425 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:15:47,442 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:15:47,442 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:15:47,443 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:15:47,450 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:15:47,459 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 12.
2022-01-29 17:15:47,459 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:15:47,459 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:15:47,470 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:15:47,471 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:15:47,471 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 11, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:15:47,978 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:15:47,985 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:15:48,989 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:15:49,990 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:15:50,991 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:15:52,009 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:15:52,010 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:15:52,010 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 69f837d4-5c84-4a0d-a3a8-40f4f15a9386 ---------
*requestTimeStamp:2022-01-29T17:15:47.414
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 69f837d4-5c84-4a0d-a3a8-40f4f15a9386 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:15:52.008 
*Response delay:4594.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:15:52,011 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:15:52,011 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:15:52,013 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:15:52,014 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:15:52,017 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:15:52,018 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:15:52,018 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:15:52,023 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:15:52,029 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 9.
2022-01-29 17:15:52,029 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:15:52,029 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:15:52,033 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:15:52,033 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:15:52,033 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 8, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:15:52,537 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:15:52,543 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:15:53,548 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:15:54,550 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:15:55,553 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:15:56,569 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:15:56,572 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'

2022-01-29 17:15:56,573 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:15:56,578 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 0865eddb-8423-4196-9982-4735a07ed061 ---------
*requestTimeStamp:2022-01-29T17:15:52.011
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 0865eddb-8423-4196-9982-4735a07ed061 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:15:56.563 
*Response delay:4552.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message.TaxByTaxRules[0].Authorities" : [ "[{\"AuthoritySequenceNo\":0,\"AuthorityName\":\"Default\"}]" ]
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message.TaxByTaxRules[0].Authorities[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}]'
 
 
-done-

2022-01-29 17:15:56,700 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:15:56,767 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:24:01,583 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:24:01,950 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:24:01,996 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:24:02,009 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:24:02,088 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:24:02,098 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:24:02,129 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:24:02,129 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:24:02,149 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:24:02,250 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:24:02,250 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:24:02,285 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:24:02,286 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:24:02,381 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:24:02,402 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:24:02,402 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 12 
2022-01-29 17:24:02,408 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":12,"timestamp":1643495042384,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:24:02,408 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:24:02,413 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:24:02,416 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:24:02,418 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 9bf62af7-4779-4444-b700-a7bc0506e1ca ---------
*requestTimeStamp:2022-01-29T17:24:02.125
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 9bf62af7-4779-4444-b700-a7bc0506e1ca ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 12,
    "timestamp" : 1643495042384,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:24:02.413 
*Response delay:288.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:24:02,419 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:24:02,419 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:24:02,420 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:24:02,424 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:24:02,424 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:24:02,425 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:24:02,426 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:24:02,431 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:24:02,437 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:24:02,437 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 9 
2022-01-29 17:24:02,437 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":9,"timestamp":1643495042431,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:24:02,437 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:24:02,440 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:24:02,440 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:24:02,441 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b238a33c-ff58-4524-a7d4-40f5d9231982 ---------
*requestTimeStamp:2022-01-29T17:24:02.419
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: b238a33c-ff58-4524-a7d4-40f5d9231982 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 9,
    "timestamp" : 1643495042431,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:24:02.440 
*Response delay:21.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:24:02,441 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:24:02,441 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:24:02,448 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:24:02,453 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:24:02,472 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:24:02,473 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:24:02,473 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:24:02,481 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:24:02,488 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 13.
2022-01-29 17:24:02,489 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:24:02,489 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:24:02,499 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:24:02,500 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:24:02,500 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 12, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:24:03,003 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:24:03,011 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:24:04,015 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:24:05,016 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:24:06,021 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:24:07,039 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:24:07,041 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:24:07,041 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 4426511f-a026-42d4-bf68-9048546ed077 ---------
*requestTimeStamp:2022-01-29T17:24:02.441
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 4426511f-a026-42d4-bf68-9048546ed077 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:24:07.039 
*Response delay:4598.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:24:07,043 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:24:07,043 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:24:07,045 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:24:07,046 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:24:07,049 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:24:07,049 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:24:07,049 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:24:07,055 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:24:07,060 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 10.
2022-01-29 17:24:07,061 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:24:07,061 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:24:07,064 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:24:07,065 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:24:07,065 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 9, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:24:07,571 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:24:07,577 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:24:08,578 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:24:09,580 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:24:10,585 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:24:11,592 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via flat validators
2022-01-29 17:24:11,596 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'

2022-01-29 17:24:11,598 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:24:11,602 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 326b2ff4-d287-406b-9713-6536bec8877f ---------
*requestTimeStamp:2022-01-29T17:24:07.043
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 326b2ff4-d287-406b-9713-6536bec8877f ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:24:11.592 
*Response delay:4549.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
null
Assertion Errors: 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
 
 
-done-

2022-01-29 17:24:11,725 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:24:11,792 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:25:24,027 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:25:24,414 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:25:24,462 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:25:24,477 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:25:24,575 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:25:24,587 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:25:24,618 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:25:24,618 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:25:24,639 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:25:24,769 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:25:24,769 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:25:24,818 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:25:24,820 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:25:24,952 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:25:24,977 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:25:24,978 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 13 
2022-01-29 17:25:24,985 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":13,"timestamp":1643495124956,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:25:24,985 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:25:24,993 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:25:24,996 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:25:24,998 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 1e7e6b19-34d0-416e-99ec-1ce7b88205a0 ---------
*requestTimeStamp:2022-01-29T17:25:24.614
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 1e7e6b19-34d0-416e-99ec-1ce7b88205a0 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 13,
    "timestamp" : 1643495124956,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:25:24.992 
*Response delay:378.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:25:25,000 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:25:25,000 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:25:25,001 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:25:25,007 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:25:25,007 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:25:25,009 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:25:25,009 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:25:25,016 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:25:25,026 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:25:25,026 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 10 
2022-01-29 17:25:25,026 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":10,"timestamp":1643495125017,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:25:25,026 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:25:25,031 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:25:25,032 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:25:25,032 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: b8d45a14-49e2-4447-992f-118c58d1d65c ---------
*requestTimeStamp:2022-01-29T17:25:24.999
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: b8d45a14-49e2-4447-992f-118c58d1d65c ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 10,
    "timestamp" : 1643495125017,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:25:25.031 
*Response delay:32.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:25:25,033 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:25:25,033 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:25:25,042 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:25:25,048 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:25:25,072 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:25:25,072 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:25:25,073 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:25:25,081 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:25:25,092 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 14.
2022-01-29 17:25:25,092 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:25:25,092 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:25:25,105 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:25:25,106 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:25:25,106 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 13, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:25:25,611 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:25:25,618 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:25:26,623 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:25:27,624 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:25:28,627 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:25:29,647 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:25:29,649 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:25:29,649 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f089f5bb-e9ac-40e2-8ae4-f5b6a23fd9c3 ---------
*requestTimeStamp:2022-01-29T17:25:25.033
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: f089f5bb-e9ac-40e2-8ae4-f5b6a23fd9c3 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:25:29.647 
*Response delay:4614.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:25:29,651 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:25:29,651 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:25:29,654 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:25:29,655 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:25:29,657 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:25:29,657 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:25:29,658 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:25:29,663 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:25:29,668 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 11.
2022-01-29 17:25:29,668 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:25:29,668 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:25:29,674 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:25:29,674 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:25:29,674 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 10, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:25:30,179 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:25:30,185 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:25:31,189 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:25:32,190 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:25:33,190 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:25:34,198 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via flat validators
2022-01-29 17:25:34,202 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'

2022-01-29 17:25:34,203 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:25:34,207 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 1aa9c63a-7360-47ef-9bba-5a1738cc16f6 ---------
*requestTimeStamp:2022-01-29T17:25:29.651
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 1aa9c63a-7360-47ef-9bba-5a1738cc16f6 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:25:34.197 
*Response delay:4546.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
null
Assertion Errors: 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
 
 
-done-

2022-01-29 17:25:34,334 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:25:34,392 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:35:22,772 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:35:23,244 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:35:23,300 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:35:23,312 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:35:23,400 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:35:23,411 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:35:23,443 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:35:23,444 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:35:23,471 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:35:23,583 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:35:23,583 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:35:23,625 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:35:23,627 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:35:23,737 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:35:23,757 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:35:23,757 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 14 
2022-01-29 17:35:23,763 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":14,"timestamp":1643495723741,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:35:23,763 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:35:23,768 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:35:23,770 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:35:23,772 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: a9681644-1b3d-4365-8f8e-b69f45bcfc56 ---------
*requestTimeStamp:2022-01-29T17:35:23.440
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: a9681644-1b3d-4365-8f8e-b69f45bcfc56 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 14,
    "timestamp" : 1643495723741,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:35:23.768 
*Response delay:328.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:35:23,773 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:35:23,773 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:35:23,774 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:35:23,777 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:35:23,777 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:35:23,778 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:35:23,779 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:35:23,783 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:35:23,789 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:35:23,789 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 11 
2022-01-29 17:35:23,789 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":11,"timestamp":1643495723784,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:35:23,789 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:35:23,792 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:35:23,792 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:35:23,792 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: d5d53e00-5a8c-4da0-a89c-5fb3f969e941 ---------
*requestTimeStamp:2022-01-29T17:35:23.773
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: d5d53e00-5a8c-4da0-a89c-5fb3f969e941 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 11,
    "timestamp" : 1643495723784,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:35:23.792 
*Response delay:19.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:35:23,793 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:35:23,793 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:35:23,800 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:35:23,806 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:35:23,825 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:35:23,825 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:35:23,825 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:35:23,833 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:35:23,843 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 15.
2022-01-29 17:35:23,843 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:35:23,844 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:35:23,856 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:35:23,856 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:35:23,856 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 14, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:35:24,366 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:35:24,373 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:35:25,378 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:35:26,379 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:35:27,380 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:35:28,398 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:35:28,400 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:35:28,400 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 767d4fdc-0de3-42ba-968c-4ae6ee663f65 ---------
*requestTimeStamp:2022-01-29T17:35:23.793
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 767d4fdc-0de3-42ba-968c-4ae6ee663f65 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:35:28.398 
*Response delay:4605.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:35:28,402 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:35:28,402 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:35:28,404 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:35:28,405 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:35:28,408 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:35:28,408 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:35:28,409 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:35:28,415 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:35:28,420 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 12.
2022-01-29 17:35:28,421 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:35:28,421 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:35:28,425 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:35:28,425 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:35:28,425 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 11, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:35:28,929 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:35:28,935 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:35:29,937 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:35:30,938 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:35:31,939 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:35:32,949 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via flat validators
2022-01-29 17:35:32,954 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'

2022-01-29 17:35:32,955 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:35:32,960 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: c80aa387-dc9c-4fed-a788-861a9f3b63ce ---------
*requestTimeStamp:2022-01-29T17:35:28.401
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: c80aa387-dc9c-4fed-a788-861a9f3b63ce ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:35:32.948 
*Response delay:4547.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
null
Assertion Errors: 
Assertion jsonPath '$[0]' with actual value '{AuthoritySequenceNo=0, AuthorityName=Default}' did not match the expected value '${$.consume_from_stagea.response.records[0].value.message.Data[0].Data.TaxByTaxRules[0].Authorities}'
 
 
-done-

2022-01-29 17:35:33,083 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:35:33,165 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:36:36,418 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:36,813 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:36,859 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:36,871 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:36:36,950 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:36:37,036 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:36:47,992 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:48,394 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:48,443 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:36:48,456 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:36:48,561 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:36:48,575 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:36:48,613 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:36:48,614 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:36:48,640 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:36:48,772 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:36:48,772 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:36:48,820 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:36:48,821 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:36:48,960 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:36:48,990 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:36:48,991 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 15 
2022-01-29 17:36:48,999 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":15,"timestamp":1643495808966,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:36:48,999 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:36:49,007 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:36:49,011 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:36:49,013 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: e1f45e56-2d7c-420c-9808-d2980a9d9691 ---------
*requestTimeStamp:2022-01-29T17:36:48.610
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: e1f45e56-2d7c-420c-9808-d2980a9d9691 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 15,
    "timestamp" : 1643495808966,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:36:49.007 
*Response delay:397.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:36:49,014 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:36:49,015 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:36:49,016 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:36:49,020 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:36:49,021 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:36:49,022 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:36:49,023 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:36:49,031 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:36:49,040 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:36:49,041 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 12 
2022-01-29 17:36:49,041 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":12,"timestamp":1643495809032,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:36:49,041 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:36:49,045 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:36:49,046 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:36:49,046 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 1c7c2207-813a-42ec-ba0f-e98d61377aee ---------
*requestTimeStamp:2022-01-29T17:36:49.014
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 1c7c2207-813a-42ec-ba0f-e98d61377aee ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 12,
    "timestamp" : 1643495809032,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:36:49.045 
*Response delay:31.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:36:49,047 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:36:49,048 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:36:49,057 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:36:49,062 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:36:49,090 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:36:49,090 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:36:49,091 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:36:49,101 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:36:49,111 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 16.
2022-01-29 17:36:49,112 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:36:49,112 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:36:49,124 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:36:49,125 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:36:49,126 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 15, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:36:49,631 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:36:49,638 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:36:50,641 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:36:51,644 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:36:52,647 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:36:53,663 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:36:53,665 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:36:53,665 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 85f48810-3596-46b8-aa68-a9cf2eb131c6 ---------
*requestTimeStamp:2022-01-29T17:36:49.047
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 85f48810-3596-46b8-aa68-a9cf2eb131c6 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:36:53.663 
*Response delay:4616.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:36:53,666 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:36:53,666 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:36:53,668 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:36:53,669 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:36:53,672 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:36:53,672 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:36:53,673 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:36:53,678 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:36:53,683 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 13.
2022-01-29 17:36:53,683 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:36:53,683 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:36:53,687 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:36:53,687 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:36:53,687 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 12, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:36:54,193 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:36:54,199 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:36:55,204 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:36:56,206 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:36:57,207 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:36:58,217 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 17:36:58,217 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.Data[0].Data.Payments":"${$.consume_from_stagea.response.records[0].value.message.Payments}"}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Payments,
Details: com.jayway.jsonpath.PathNotFoundException: No results for path: $['consume_from_stagea']['response']['records'][0]['value']['message']['Payments']
2022-01-29 17:36:58,222 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 33edaed8-192a-4e5b-b0e6-4243a5a507ae ---------
*requestTimeStamp:2022-01-29T17:36:53.666
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 33edaed8-192a-4e5b-b0e6-4243a5a507ae ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:36:58.217 
*Response delay:4551.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 17:36:58,344 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:36:58,410 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:37:09,868 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:37:10,292 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:37:10,339 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:37:10,352 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:37:10,460 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:37:10,473 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:37:10,511 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:37:10,511 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:37:10,539 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:37:10,669 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:37:10,670 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:37:10,717 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:37:10,718 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:37:10,842 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:37:10,869 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:37:10,870 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 16 
2022-01-29 17:37:10,878 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":16,"timestamp":1643495830848,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:37:10,878 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:37:10,887 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:37:10,890 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:37:10,893 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 4b506df3-07af-4aa7-ba98-2c06811e20db ---------
*requestTimeStamp:2022-01-29T17:37:10.507
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 4b506df3-07af-4aa7-ba98-2c06811e20db ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 16,
    "timestamp" : 1643495830848,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:37:10.886 
*Response delay:379.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:37:10,894 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:37:10,895 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:37:10,896 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:37:10,902 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:37:10,902 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:37:10,904 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:37:10,904 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:37:10,911 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:37:10,920 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:37:10,920 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 13 
2022-01-29 17:37:10,920 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":13,"timestamp":1643495830912,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:37:10,921 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:37:10,925 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:37:10,926 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:37:10,926 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f416de50-696f-4b8d-aa9e-d29b5d1ceadc ---------
*requestTimeStamp:2022-01-29T17:37:10.894
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: f416de50-696f-4b8d-aa9e-d29b5d1ceadc ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 13,
    "timestamp" : 1643495830912,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:37:10.925 
*Response delay:31.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:37:10,927 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:37:10,927 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:37:10,937 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:37:10,943 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:37:10,967 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:37:10,967 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:37:10,968 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:37:10,976 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:37:10,987 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 17.
2022-01-29 17:37:10,987 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:37:10,988 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:37:11,000 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:37:11,002 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:37:11,002 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 16, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:37:11,506 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:37:11,513 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:37:12,517 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:37:13,518 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:37:14,523 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:37:15,542 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:37:15,544 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:37:15,544 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: fa7f0b33-15f0-489e-8cf9-4826a252d22d ---------
*requestTimeStamp:2022-01-29T17:37:10.927
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: fa7f0b33-15f0-489e-8cf9-4826a252d22d ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:37:15.542 
*Response delay:4615.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:37:15,545 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:37:15,545 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:37:15,547 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:37:15,548 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:37:15,551 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:37:15,551 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:37:15,552 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:37:15,557 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:37:15,562 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 14.
2022-01-29 17:37:15,562 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:37:15,562 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:37:15,566 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:37:15,566 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:37:15,566 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 13, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:37:16,071 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:37:16,077 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:37:17,077 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:37:18,081 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:37:19,082 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:37:20,090 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 17:37:20,091 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.Data[0].Data.Payments":"${$.consume_from_stagea.response.records[0].value.message.Payments}"}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Payments,
Details: com.jayway.jsonpath.PathNotFoundException: No results for path: $['consume_from_stagea']['response']['records'][0]['value']['message']['Payments']
2022-01-29 17:37:20,095 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: c1b12466-cf7f-4949-b5c6-89adb97451c0 ---------
*requestTimeStamp:2022-01-29T17:37:15.545
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: c1b12466-cf7f-4949-b5c6-89adb97451c0 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:37:20.090 
*Response delay:4545.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 17:37:20,217 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:37:20,282 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:38:10,016 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:10,469 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:10,523 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:10,539 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:38:10,642 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:38:10,655 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:38:10,696 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:10,697 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:38:10,726 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:38:10,878 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:10,878 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:10,932 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:38:10,933 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:38:11,060 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:11,089 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:38:11,089 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 17 
2022-01-29 17:38:11,098 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":17,"timestamp":1643495891065,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:38:11,098 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:38:11,107 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:11,112 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:38:11,115 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 89e30ad8-179e-4df5-a7c5-c91450d0cbcb ---------
*requestTimeStamp:2022-01-29T17:38:10.692
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 89e30ad8-179e-4df5-a7c5-c91450d0cbcb ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 17,
    "timestamp" : 1643495891065,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:38:11.107 
*Response delay:415.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:38:11,117 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:11,117 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:38:11,118 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:38:11,126 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:11,126 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:11,128 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:38:11,129 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:38:11,138 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:11,148 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:38:11,149 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 14 
2022-01-29 17:38:11,149 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":14,"timestamp":1643495891138,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:38:11,149 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:38:11,153 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:11,154 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:38:11,155 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 423d218b-8af1-4bba-89ab-b27ca5706597 ---------
*requestTimeStamp:2022-01-29T17:38:11.117
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 423d218b-8af1-4bba-89ab-b27ca5706597 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 14,
    "timestamp" : 1643495891138,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:38:11.153 
*Response delay:36.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:38:11,156 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:11,156 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:38:11,166 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:38:11,173 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:38:11,198 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:11,199 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:11,200 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:38:11,210 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:11,221 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 18.
2022-01-29 17:38:11,221 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:38:11,222 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:38:11,236 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:38:11,237 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:38:11,237 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 17, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:38:11,741 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:38:11,748 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:38:12,749 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:38:13,754 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:38:14,759 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:38:15,775 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:15,776 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:38:15,776 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 696b7ee4-9da0-4e1c-8fe4-0f9f207dc5a9 ---------
*requestTimeStamp:2022-01-29T17:38:11.156
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 696b7ee4-9da0-4e1c-8fe4-0f9f207dc5a9 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:38:15.774 
*Response delay:4618.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:38:15,777 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:15,777 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:38:15,779 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:38:15,780 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:38:15,783 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:15,783 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:15,784 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:38:15,789 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:15,794 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 15.
2022-01-29 17:38:15,794 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:38:15,794 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:38:15,798 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:38:15,798 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:38:15,798 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 14, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:38:16,303 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:38:16,310 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:38:17,311 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:38:18,312 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:38:19,313 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:38:20,322 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 17:38:20,322 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.Data[0].Data.Payments":["${$.consume_from_stagea.response.records[0].value.message.Payments}"]}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Payments,
Details: com.jayway.jsonpath.PathNotFoundException: No results for path: $['consume_from_stagea']['response']['records'][0]['value']['message']['Payments']
2022-01-29 17:38:20,327 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 65698878-d2d2-436b-baf5-0f94c42cacdf ---------
*requestTimeStamp:2022-01-29T17:38:15.777
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 65698878-d2d2-436b-baf5-0f94c42cacdf ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:38:20.322 
*Response delay:4545.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 17:38:20,450 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:38:20,517 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:38:50,502 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:50,944 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:50,996 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:38:51,010 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:38:51,111 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:38:51,124 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:38:51,157 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:51,158 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:38:51,181 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:38:51,326 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:51,326 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:51,374 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:38:51,375 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:38:51,498 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:51,525 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:38:51,525 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 18 
2022-01-29 17:38:51,533 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":18,"timestamp":1643495931503,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:38:51,534 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:38:51,541 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:51,544 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:38:51,547 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 2e470b3c-fab2-4e58-9077-241c8a3d16ce ---------
*requestTimeStamp:2022-01-29T17:38:51.154
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 2e470b3c-fab2-4e58-9077-241c8a3d16ce ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 18,
    "timestamp" : 1643495931503,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:38:51.541 
*Response delay:387.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:38:51,548 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:51,549 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:38:51,550 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:38:51,555 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:51,555 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:51,556 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:38:51,556 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:38:51,564 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:51,574 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:38:51,574 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 15 
2022-01-29 17:38:51,574 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":15,"timestamp":1643495931564,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:38:51,574 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:38:51,579 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:51,579 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:38:51,580 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 224ab3a7-7e43-4631-9361-c97977116ac3 ---------
*requestTimeStamp:2022-01-29T17:38:51.548
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 224ab3a7-7e43-4631-9361-c97977116ac3 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 15,
    "timestamp" : 1643495931564,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:38:51.578 
*Response delay:30.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:38:51,580 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:51,581 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:38:51,589 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:38:51,596 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:38:51,620 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:51,620 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:51,621 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:38:51,630 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:51,640 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 19.
2022-01-29 17:38:51,640 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:38:51,641 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:38:51,652 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:38:51,653 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:38:51,654 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 18, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:38:52,159 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:38:52,166 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:38:53,167 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:38:54,170 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:38:55,172 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:38:56,188 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:38:56,189 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:38:56,190 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 21f905a8-4b37-41e1-bd69-f740a9a5d3ad ---------
*requestTimeStamp:2022-01-29T17:38:51.580
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 21f905a8-4b37-41e1-bd69-f740a9a5d3ad ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:38:56.188 
*Response delay:4608.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:38:56,190 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:38:56,191 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:38:56,193 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:38:56,194 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:38:56,197 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:38:56,197 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:38:56,197 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:38:56,204 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:38:56,209 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 16.
2022-01-29 17:38:56,209 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:38:56,209 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:38:56,213 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:38:56,213 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:38:56,213 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 15, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:38:56,718 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:38:56,725 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:38:57,725 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:38:58,730 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:38:59,733 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:39:00,743 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 17:39:00,743 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.Data[0].Data.Payments[0]":"${$.consume_from_stagea.response.records[0].value.message.Payments[0]}"}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Payments[0],
Details: com.jayway.jsonpath.PathNotFoundException: Missing property in path $['consume_from_stagea']['response']['records'][0]['value']['message']['Payments']
2022-01-29 17:39:00,748 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: f8eed312-e2dd-46c7-90e5-2efea0d37347 ---------
*requestTimeStamp:2022-01-29T17:38:56.190
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: f8eed312-e2dd-46c7-90e5-2efea0d37347 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:39:00.743 
*Response delay:4553.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 17:39:00,868 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:39:00,938 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:39:28,876 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:39:29,339 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:39:29,385 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:39:29,396 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:39:29,485 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:39:29,496 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:39:29,527 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:39:29,527 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:39:29,550 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:39:29,665 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:39:29,665 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:39:29,706 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:39:29,707 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:39:29,812 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:39:29,830 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:39:29,830 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 19 
2022-01-29 17:39:29,835 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":19,"timestamp":1643495969815,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:39:29,836 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:39:29,841 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:39:29,843 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:39:29,845 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 4f2f090f-35ac-476f-b2a1-30b837bba1a9 ---------
*requestTimeStamp:2022-01-29T17:39:29.524
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 4f2f090f-35ac-476f-b2a1-30b837bba1a9 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 19,
    "timestamp" : 1643495969815,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:39:29.840 
*Response delay:316.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:39:29,846 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:39:29,846 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:39:29,847 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:39:29,851 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:39:29,851 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:39:29,852 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:39:29,852 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:39:29,858 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:39:29,864 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:39:29,864 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 16 
2022-01-29 17:39:29,865 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":16,"timestamp":1643495969858,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:39:29,865 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:39:29,867 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:39:29,868 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:39:29,868 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 9c0fd75b-cb60-4424-8266-acd9cbe36901 ---------
*requestTimeStamp:2022-01-29T17:39:29.846
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 9c0fd75b-cb60-4424-8266-acd9cbe36901 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 16,
    "timestamp" : 1643495969858,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:39:29.867 
*Response delay:21.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:39:29,868 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:39:29,869 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:39:29,875 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:39:29,879 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:39:29,896 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:39:29,896 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:39:29,896 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:39:29,902 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:39:29,910 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 20.
2022-01-29 17:39:29,910 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:39:29,910 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:39:29,919 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:39:29,919 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:39:29,919 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 19, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:39:30,425 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:39:30,432 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:39:31,434 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:39:32,434 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:39:33,435 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:39:34,452 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:39:34,453 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:39:34,453 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: d0f7ae13-fd54-475b-b9d1-4fc43fa44989 ---------
*requestTimeStamp:2022-01-29T17:39:29.868
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: d0f7ae13-fd54-475b-b9d1-4fc43fa44989 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:39:34.451 
*Response delay:4583.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:39:34,454 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:39:34,454 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:39:34,457 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:39:34,457 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:39:34,460 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:39:34,460 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:39:34,460 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:39:34,466 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:39:34,472 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 17.
2022-01-29 17:39:34,472 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:39:34,472 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:39:34,476 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:39:34,476 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:39:34,476 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 16, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:39:34,982 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:39:34,988 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:39:35,989 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:39:36,995 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:39:37,997 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:39:39,005 [main] ERROR org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - ###Exception while executing a step in the zerocode dsl.
2022-01-29 17:39:39,006 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Exception occurred while executing Scenario:[E2E - Verify a Sale ticket], --> Step:[consume_from_stageb], Details: java.lang.RuntimeException: ZeroCode Step execution failed. Details:java.lang.RuntimeException: 
JSON:{"size":1,"records":[{"value.message.Data[0].Data.Payments[0]":["${$.consume_from_stagea.response.records[0].value.message.Payments[0]}"]}]}
Possibly comments in the JSON found or bad JSON path found: $.consume_from_stagea.response.records[0].value.message.Payments[0],
Details: com.jayway.jsonpath.PathNotFoundException: Missing property in path $['consume_from_stagea']['response']['records'][0]['value']['message']['Payments']
2022-01-29 17:39:39,011 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 4af13fa2-9207-4ef5-a17e-5a8afcd69274 ---------
*requestTimeStamp:2022-01-29T17:39:34.454
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 4af13fa2-9207-4ef5-a17e-5a8afcd69274 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:39:39.006 
*Response delay:4552.0 milli-secs 
---------> Expected Response: <----------
{Oops! Not decided. Possibly due to non JSON content was encountered. See log for details} 
 
-done-

2022-01-29 17:39:39,134 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:39:39,199 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 17:44:32,088 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:44:32,466 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:44:32,512 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 17:44:32,524 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 17:44:32,602 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Verify a Sale ticket -------------------------

2022-01-29 17:44:32,612 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 17:44:32,643 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:44:32,643 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"}
2022-01-29 17:44:32,662 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:44:32,764 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:44:32,764 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:44:32,799 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/1b-ticket19555365_stagea_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:44:32,800 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stagea, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, timestamp=null)
2022-01-29 17:44:32,899 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:44:32,918 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:44:32,918 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 20 
2022-01-29 17:44:32,924 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":20,"timestamp":1643496272903,"serializedKeySize":11,"serializedValueSize":1343,"topicPartition":{"hash":-892493596,"partition":0,"topic":"stagea"}}}
2022-01-29 17:44:32,924 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:44:32,929 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:44:32,932 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stagea
2022-01-29 17:44:32,933 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 310707d1-e7fc-4bf4-937d-f591409774d8 ---------
*requestTimeStamp:2022-01-29T17:44:32.639
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/1b-ticket19555365_stagea_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 310707d1-e7fc-4bf4-937d-f591409774d8 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 20,
    "timestamp" : 1643496272903,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1343,
    "topicPartition" : {
      "hash" : -892493596,
      "partition" : 0,
      "topic" : "stagea"
    }
  }
}
*responseTimeStamp:2022-01-29T17:44:32.929 
*Response delay:290.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
} 
 
-done-

2022-01-29 17:44:32,934 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:44:32,935 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:produce, requestJson:{"async":true,"recordType":"JSON","file":"testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"}
2022-01-29 17:44:32,935 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 17:44:32,939 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:44:32,939 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:44:32,940 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - From file:'testdata/2b-ticket19555365_stageb_SingleLine_JSON.json', Sending record number: 0

2022-01-29 17:44:32,940 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous - Producer sending JSON record - ProducerRecord(topic=stageb, partition=null, headers=RecordHeaders(headers = [], isReadOnly = false), key=38373837383, value={"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, timestamp=null)
2022-01-29 17:44:32,946 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:44:32,951 [kafka-producer-network-thread | dad-producer_2022-01-29] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Asynchronous Producer call was successful
2022-01-29 17:44:32,951 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - Record was sent to partition- 0, with offset- 17 
2022-01-29 17:44:32,952 [main] INFO  org.jsmart.zerocode.core.kafka.send.KafkaSender - deliveryDetails- {"status":"Ok","recordMetadata":{"offset":17,"timestamp":1643496272946,"serializedKeySize":11,"serializedValueSize":1322,"topicPartition":{"hash":-892493595,"partition":0,"topic":"stageb"}}}
2022-01-29 17:44:32,952 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 17:44:32,954 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:44:32,955 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> produce_to_stageb
2022-01-29 17:44:32,955 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 56a16df4-2241-444e-a667-541f81e31bb3 ---------
*requestTimeStamp:2022-01-29T17:44:32.934
step:produce_to_stageb
id:null
url:kafka-topic:stageb
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "file" : "testdata/2b-ticket19555365_stageb_SingleLine_JSON.json"
} 
--------- TEST-STEP-CORRELATION-ID: 56a16df4-2241-444e-a667-541f81e31bb3 ---------
Response:
{
  "status" : "Ok",
  "recordMetadata" : {
    "offset" : 17,
    "timestamp" : 1643496272946,
    "serializedKeySize" : 11,
    "serializedValueSize" : 1322,
    "topicPartition" : {
      "hash" : -892493595,
      "partition" : 0,
      "topic" : "stageb"
    }
  }
}
*responseTimeStamp:2022-01-29T17:44:32.954 
*Response delay:20.0 milli-secs 
---------> Expected Response: <----------
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stageb"
    }
  }
} 
 
-done-

2022-01-29 17:44:32,955 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:44:32,956 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stagea,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:44:32,963 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stagea,0,-1}

2022-01-29 17:44:32,967 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:44:32,983 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:44:32,983 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:44:32,984 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:44:32,990 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:44:32,997 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stagea-0 to offset 21.
2022-01-29 17:44:32,997 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:44:32,997 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:44:33,005 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:44:33,006 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:44:33,006 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}, Record partition - 0, Record offset - 20, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:44:33,510 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:44:33,517 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:44:34,517 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:44:35,518 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:44:36,518 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:44:37,535 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:44:37,537 [main] INFO  org.jsmart.zerocode.core.runner.StepNotificationHandler - 
***Step PASSED - Scenario:E2E - Verify a Sale ticket -> consume_from_stagea
2022-01-29 17:44:37,537 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 4abb9fb3-549a-4f2e-a4f3-a87d9bad29a5 ---------
*requestTimeStamp:2022-01-29T17:44:32.955
step:consume_from_stagea
id:null
url:kafka-topic:stagea
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stagea,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: 4abb9fb3-549a-4f2e-a4f3-a87d9bad29a5 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:44:37.535 
*Response delay:4580.0 milli-secs 
---------> Expected Response: <----------
{
  "size" : 1
} 
 
-done-

2022-01-29 17:44:37,538 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 17:44:37,538 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stageb, operation:consume, requestJson:{"consumerLocalConfigs":{"seek":"stageb,0,-1","recordType":"JSON","commitSync":true,"showRecordsConsumed":true,"maxNoOfRetryPollsOrTimeouts":5}}
2022-01-29 17:44:37,541 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - 
### Kafka Consumer Effective configs:ConsumerLocalConfigs{recordType='JSON'protobufMessageClassType='null', fileDumpTo='target/temp/demo.txt', commitAsync=null, commitSync=true, showRecordsConsumed=true, maxNoOfRetryPollsOrTimeouts=5, pollingTime=1000, seek=stageb,0,-1}

2022-01-29 17:44:37,542 [main] INFO  org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: 
	auto.commit.interval.ms = 5000
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = default
	client.id = dad-consumer_2022-01-29
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = consumerGroup14
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 2
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	session.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-01-29 17:44:37,544 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 17:44:37,544 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 17:44:37,545 [main] INFO  org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Unsubscribed all topics or patterns and assigned partitions
2022-01-29 17:44:37,551 [main] INFO  org.apache.kafka.clients.Metadata - Cluster ID: Vooa64A-S46DOvjIqMtDPg
2022-01-29 17:44:37,556 [main] INFO  org.apache.kafka.clients.consumer.internals.Fetcher - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Resetting offset for partition stageb-0 to offset 18.
2022-01-29 17:44:37,556 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - initial polling to trigger ConsumerGroupJoin
2022-01-29 17:44:37,556 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 0
2022-01-29 17:44:37,560 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Received 1 records after 1 timeouts

2022-01-29 17:44:37,560 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - Consumer chosen recordType: JSON
2022-01-29 17:44:37,560 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
Record Key - 38373837383 , Record value - {"version":"2.47.948","identity":{"id":"uejdu636737-hdte6363-mcjd8843","parentId":"kdkd838-74uk7d7j4-dj73jdie","externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383","CustomerId":"3837383","TicketNumber":"19555365"}},"stream":"data-stageb","message":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket","EntityType":10,"SubmissionTrackingId":"4"},"partitionKey":"3837383","key":null,"messageId":"djdu6s7jd7jd-f9f9f-e8e77e"}, Record partition - 0, Record offset - 17, Headers - RecordHeaders(headers = [], isReadOnly = false)
2022-01-29 17:44:38,064 [main] INFO  org.apache.kafka.clients.consumer.internals.AbstractCoordinator - [Consumer clientId=dad-consumer_2022-01-29, groupId=consumerGroup14] Discovered group coordinator localhost:9092 (id: 2147483646 rack: null)
2022-01-29 17:44:38,070 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 1
2022-01-29 17:44:39,071 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 2
2022-01-29 17:44:40,071 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 3
2022-01-29 17:44:41,073 [main] INFO  org.jsmart.zerocode.core.kafka.receive.KafkaReceiver - polling records  - noOfTimeOuts reached : 4
2022-01-29 17:44:42,087 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 17:44:42,091 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Verify a Sale ticket, --> Step:consume_from_stageb, Details: Assertion jsonPath '$.records[0].value.message' with actual value '{SubTotalAmount=25.30, TaxAmount=0.33, TotalAmount=25.30, TicketNumber=19555365, TaxByTaxRules=[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}], Seats=[{"Number":0}], LineItems=[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}], Payments=[{"SequenceNumber":1,"Description":"Cash"}], strTicketType=Ticket, EntityType=10, SubmissionTrackingId=4}' did not match the expected value '{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"}'

2022-01-29 17:44:42,092 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Verify a Sale ticket] 
	|
	|
	+---Step --> [consume_from_stageb] 

Failures:
--------- 
Assertion jsonPath '$.records[0].value.message' with actual value '{SubTotalAmount=25.30, TaxAmount=0.33, TotalAmount=25.30, TicketNumber=19555365, TaxByTaxRules=[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}], Seats=[{"Number":0}], LineItems=[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}], Payments=[{"SequenceNumber":1,"Description":"Cash"}], strTicketType=Ticket, EntityType=10, SubmissionTrackingId=4}' did not match the expected value '{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"}'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 17:44:42,097 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: ef9ced70-990d-4a01-a781-906b0b542d12 ---------
*requestTimeStamp:2022-01-29T17:44:37.538
step:consume_from_stageb
id:null
url:kafka-topic:stageb
method:CONSUME
request:
{
  "consumerLocalConfigs" : {
    "seek" : "stageb,0,-1",
    "recordType" : "JSON",
    "commitSync" : true,
    "showRecordsConsumed" : true,
    "maxNoOfRetryPollsOrTimeouts" : 5
  }
} 
--------- TEST-STEP-CORRELATION-ID: ef9ced70-990d-4a01-a781-906b0b542d12 ---------
Response:
{
  "records" : [ {
    "key" : 38373837383,
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "uejdu636737-hdte6363-mcjd8843",
        "parentId" : "kdkd838-74uk7d7j4-dj73jdie",
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383",
          "CustomerId" : "3837383",
          "TicketNumber" : "19555365"
        }
      },
      "stream" : "data-stageb",
      "message" : {
        "SubTotalAmount" : "25.30",
        "TaxAmount" : "0.33",
        "TotalAmount" : "25.30",
        "TicketNumber" : "19555365",
        "TaxByTaxRules" : [ {
          "RuleSequenceNo" : 0,
          "TaxCategoryId" : 45556,
          "TaxCategoryName" : "InclusiveTax",
          "TaxRate" : 6,
          "RuleCode" : "1",
          "TaxableQtyInStockingUnits" : 1,
          "Authorities" : [ {
            "AuthoritySequenceNo" : 0,
            "AuthorityName" : "Default"
          } ],
          "IsInclusive" : true
        } ],
        "Seats" : [ {
          "Number" : 0
        } ],
        "LineItems" : [ {
          "Definition" : {
            "ItemNumber" : "14",
            "ShortDescription" : "bbb",
            "Description" : ""
          },
          "LineType" : 0,
          "OriginalQuantity" : 0,
          "TotalCost" : "0.00",
          "PriceListPrice" : {
            "Price" : "10.00"
          },
          "ItemNumber" : "14",
          "IsTaxable" : true,
          "UnitPriceAmount" : "10.00"
        }, {
          "Definition" : {
            "ItemNumber" : "17",
            "ShortDescription" : "ccc",
            "Description" : ""
          },
          "QuantitySold" : "1.000000",
          "AppliedSub" : [ {
            "ParentQuantitySold" : "1.000000",
            "Definition" : {
              "ItemNumber" : "19",
              "ShortDescription" : "zzzzz",
              "Description" : ""
            }
          } ],
          "IsUserEnteredPrice" : false
        } ],
        "Payments" : [ {
          "SequenceNumber" : 1,
          "Description" : "Cash"
        } ],
        "strTicketType" : "Ticket",
        "EntityType" : 10,
        "SubmissionTrackingId" : "4"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "djdu6s7jd7jd-f9f9f-e8e77e"
    },
    "headers" : { }
  } ],
  "size" : 1
}
*responseTimeStamp:2022-01-29T17:44:42.078 
*Response delay:4540.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "size" : 1,
  "records" : [ {
    "value.message" : "{\"SubTotalAmount\":\"25.30\",\"TaxAmount\":\"0.33\",\"TotalAmount\":\"25.30\",\"TicketNumber\":\"19555365\",\"TaxByTaxRules\":[{\"RuleSequenceNo\":0,\"TaxCategoryId\":45556,\"TaxCategoryName\":\"InclusiveTax\",\"TaxRate\":6,\"RuleCode\":\"1\",\"TaxableQtyInStockingUnits\":1,\"Authorities\":[{\"AuthoritySequenceNo\":0,\"AuthorityName\":\"Default\"}],\"IsInclusive\":true}],\"Seats\":[{\"Number\":0}],\"LineItems\":[{\"Definition\":{\"ItemNumber\":\"14\",\"ShortDescription\":\"bbb\",\"Description\":\"\"},\"LineType\":0,\"OriginalQuantity\":0,\"TotalCost\":\"0.00\",\"PriceListPrice\":{\"Price\":\"10.00\"},\"ItemNumber\":\"14\",\"IsTaxable\":true,\"UnitPriceAmount\":\"10.00\"},{\"Definition\":{\"ItemNumber\":\"17\",\"ShortDescription\":\"ccc\",\"Description\":\"\"},\"QuantitySold\":\"1.000000\",\"AppliedSub\":[{\"ParentQuantitySold\":\"1.000000\",\"Definition\":{\"ItemNumber\":\"19\",\"ShortDescription\":\"zzzzz\",\"Description\":\"\"}}],\"IsUserEnteredPrice\":false}],\"Payments\":[{\"SequenceNumber\":1,\"Description\":\"Cash\"}],\"strTicketType\":\"Ticket\"}"
  } ]
}
Assertion Errors: 
Assertion jsonPath '$.records[0].value.message' with actual value '{SubTotalAmount=25.30, TaxAmount=0.33, TotalAmount=25.30, TicketNumber=19555365, TaxByTaxRules=[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}], Seats=[{"Number":0}], LineItems=[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}], Payments=[{"SequenceNumber":1,"Description":"Cash"}], strTicketType=Ticket, EntityType=10, SubmissionTrackingId=4}' did not match the expected value '{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"}'
 
 
-done-

2022-01-29 17:44:42,222 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 17:44:42,294 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 18:07:18,480 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:07:18,912 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:07:18,972 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:07:18,990 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 18:07:19,088 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Produce to topic -------------------------

2022-01-29 18:07:19,101 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 18:07:19,116 [main] INFO  org.jsmart.zerocode.core.engine.preprocessor.ZeroCodeExternalFileProcessorImpl - Found external JSON file place holder = [{key=11111111, value=aaaaaaa}, {key=22222222, value=${JSON.FILE:testdata/1b-ticket19555365_stagea_SingleLine_JSON.json}}]. Replacing with content
2022-01-29 18:07:19,152 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 18:07:19,153 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","records":{"key":"38373837383","value":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}}}
2022-01-29 18:07:19,179 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 18:07:19,284 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 18:07:19,284 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 18:07:19,320 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList<org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord>` out of START_OBJECT token
 at [Source: (String)"{"async":true,"recordType":"JSON","records":{"key":"38373837383","value":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","Ta"[truncated 918 chars]; line: 1, column: 45] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecords["records"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1442) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1216) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1168) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:332) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:265) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:530) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:528) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:417) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:97) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 18:07:19,324 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 18:07:19,330 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 18:07:19,332 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 18:07:19,334 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Produce to topic, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 18:07:19,335 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Produce to topic] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 18:07:19,341 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 88414914-6810-4d50-bea5-e1143b5f8794 ---------
*requestTimeStamp:2022-01-29T18:07:19.148
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "records" : {
    "key" : "38373837383",
    "value" : {
      "version" : "2.47.948",
      "identity" : {
        "id" : "eue8372kss-fkd8483-ke8e83",
        "parentId" : null,
        "externalIds" : {
          "DeviceType" : "45",
          "TrackingId" : "wujs73737-eusjs5253-oe948383"
        }
      },
      "stream" : "data-stagea",
      "message" : {
        "Data" : [ {
          "Data" : {
            "SubTotalAmount" : "25.30",
            "TaxAmount" : "0.33",
            "TotalAmount" : "25.30",
            "TicketNumber" : "19555365",
            "TaxByTaxRules" : [ {
              "RuleSequenceNo" : 0,
              "TaxCategoryId" : 45556,
              "TaxCategoryName" : "InclusiveTax",
              "TaxRate" : 6,
              "RuleCode" : "1",
              "TaxableQtyInStockingUnits" : 1,
              "Authorities" : [ {
                "AuthoritySequenceNo" : 0,
                "AuthorityName" : "Default"
              } ],
              "IsInclusive" : true
            } ],
            "Seats" : [ {
              "Number" : 0
            } ],
            "LineItems" : [ {
              "Definition" : {
                "ItemNumber" : "14",
                "ShortDescription" : "bbb",
                "Description" : ""
              },
              "LineType" : 0,
              "OriginalQuantity" : 0,
              "TotalCost" : "0.00",
              "PriceListPrice" : {
                "Price" : "10.00"
              },
              "ItemNumber" : "14",
              "IsTaxable" : true,
              "UnitPriceAmount" : "10.00"
            }, {
              "Definition" : {
                "ItemNumber" : "17",
                "ShortDescription" : "ccc",
                "Description" : ""
              },
              "QuantitySold" : "1.000000",
              "AppliedSub" : [ {
                "ParentQuantitySold" : "1.000000",
                "Definition" : {
                  "ItemNumber" : "19",
                  "ShortDescription" : "zzzzz",
                  "Description" : ""
                }
              } ],
              "IsUserEnteredPrice" : false
            } ],
            "Payments" : [ {
              "SequenceNumber" : 1,
              "Description" : "Cash"
            } ],
            "strTicketType" : "Ticket"
          },
          "DataType" : 10,
          "SubmissionTrackingId" : "4"
        } ],
        "DataCounts" : [ {
          "Count" : 1,
          "DataType" : 10
        } ],
        "DeviceType" : 9,
        "CustomerId" : "3837383"
      },
      "partitionKey" : "3837383",
      "key" : null,
      "messageId" : "eyye6373-ndhd7373-dmjdd777"
    }
  }
} 
--------- TEST-STEP-CORRELATION-ID: 88414914-6810-4d50-bea5-e1143b5f8794 ---------
Response:
{
  "status" : "Failed",
  "message" : "Cannot deserialize instance of `java.util.ArrayList<org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord>` out of START_OBJECT token\n at [Source: (String)\"{\"async\":true,\"recordType\":\"JSON\",\"records\":{\"key\":\"38373837383\",\"value\":{\"version\":\"2.47.948\",\"identity\":{\"id\":\"eue8372kss-fkd8483-ke8e83\",\"parentId\":null,\"externalIds\":{\"DeviceType\":\"45\",\"TrackingId\":\"wujs73737-eusjs5253-oe948383\"}},\"stream\":\"data-stagea\",\"message\":{\"Data\":[{\"Data\":{\"SubTotalAmount\":\"25.30\",\"TaxAmount\":\"0.33\",\"TotalAmount\":\"25.30\",\"TicketNumber\":\"19555365\",\"TaxByTaxRules\":[{\"RuleSequenceNo\":0,\"TaxCategoryId\":45556,\"TaxCategoryName\":\"InclusiveTax\",\"TaxRate\":6,\"RuleCode\":\"1\",\"Ta\"[truncated 918 chars]; line: 1, column: 45] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecords[\"records\"])",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T18:07:19.329 
*Response delay:181.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 18:07:19,461 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 18:07:19,524 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
2022-01-29 18:09:11,875 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:09:12,251 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:09:12,299 [main] INFO  org.jsmart.zerocode.core.utils.RunnerUtils - ### testClass : class com.abc.tests.e2e.saleTest
2022-01-29 18:09:12,312 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner - System property zerocode.junit=null
2022-01-29 18:09:12,403 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------- BDD: Scenario:E2E - Produce to topic -------------------------

2022-01-29 18:09:12,416 [main] INFO  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
-------------------------------------------------------------------------
     Executing Scenario Count No. or parameter No. or Row No. | 0 | 
-------------------------------------------------------------------------
2022-01-29 18:09:12,431 [main] INFO  org.jsmart.zerocode.core.engine.preprocessor.ZeroCodeExternalFileProcessorImpl - Found external JSON file place holder = [{key=11111111, value=aaaaaaa}, {key=22222222, value=${JSON.FILE:testdata/3a-ticket19555365_stagea_SingleLine_JSON_only_value.json}}]. Replacing with content
2022-01-29 18:09:12,464 [main] INFO  org.jsmart.zerocode.core.kafka.helper.KafkaConsumerHelper - 
---------------------------------------------------------
kafka.bootstrap.servers - localhost:9092
---------------------------------------------------------
2022-01-29 18:09:12,465 [main] INFO  org.jsmart.zerocode.core.kafka.client.BasicKafkaClient - brokers:localhost:9092, topicName:stagea, operation:produce, requestJson:{"async":true,"recordType":"JSON","records":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"Authorities":[{"AuthoritySequenceNo":0,"AuthorityName":"Default"}],"IsInclusive":true}],"Seats":[{"Number":0}],"LineItems":[{"Definition":{"ItemNumber":"14","ShortDescription":"bbb","Description":""},"LineType":0,"OriginalQuantity":0,"TotalCost":"0.00","PriceListPrice":{"Price":"10.00"},"ItemNumber":"14","IsTaxable":true,"UnitPriceAmount":"10.00"},{"Definition":{"ItemNumber":"17","ShortDescription":"ccc","Description":""},"QuantitySold":"1.000000","AppliedSub":[{"ParentQuantitySold":"1.000000","Definition":{"ItemNumber":"19","ShortDescription":"zzzzz","Description":""}}],"IsUserEnteredPrice":false}],"Payments":[{"SequenceNumber":1,"Description":"Cash"}],"strTicketType":"Ticket"},"DataType":10,"SubmissionTrackingId":"4"}],"DataCounts":[{"Count":1,"DataType":10}],"DeviceType":9,"CustomerId":"3837383"},"partitionKey":"3837383","key":null,"messageId":"eyye6373-ndhd7373-dmjdd777"}}
2022-01-29 18:09:12,485 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = dad-producer_2022-01-29
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-01-29 18:09:12,607 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version : 2.1.0
2022-01-29 18:09:12,607 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId : eec43959745f444f
2022-01-29 18:09:12,653 [main] ERROR org.jsmart.zerocode.core.kafka.send.KafkaSender - Error in sending record.
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList<org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord>` out of START_OBJECT token
 at [Source: (String)"{"async":true,"recordType":"JSON","records":{"version":"2.47.948","identity":{"id":"eue8372kss-fkd8483-ke8e83","parentId":null,"externalIds":{"DeviceType":"45","TrackingId":"wujs73737-eusjs5253-oe948383"}},"stream":"data-stagea","message":{"Data":[{"Data":{"SubTotalAmount":"25.30","TaxAmount":"0.33","TotalAmount":"25.30","TicketNumber":"19555365","TaxByTaxRules":[{"RuleSequenceNo":0,"TaxCategoryId":45556,"TaxCategoryName":"InclusiveTax","TaxRate":6,"RuleCode":"1","TaxableQtyInStockingUnits":1,"A"[truncated 888 chars]; line: 1, column: 45] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecords["records"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1442) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1216) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1168) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:332) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:265) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:245) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:27) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:530) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:528) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:417) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4202) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3205) ~[jackson-databind-2.10.0.jar:2.10.0]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3173) ~[jackson-databind-2.10.0.jar:2.10.0]
	at org.jsmart.zerocode.core.kafka.send.KafkaSender.send(KafkaSender.java:97) ~[zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.kafka.client.BasicKafkaClient.execute(BasicKafkaClient.java:32) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.engine.executor.ApiServiceExecutorImpl.executeKafkaService(ApiServiceExecutorImpl.java:59) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeApi(ZeroCodeMultiStepsScenarioRunnerImpl.java:443) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetry(ZeroCodeMultiStepsScenarioRunnerImpl.java:227) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeRetryWithSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:178) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.executeSteps(ZeroCodeMultiStepsScenarioRunnerImpl.java:162) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl.runScenario(ZeroCodeMultiStepsScenarioRunnerImpl.java:125) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runLeafJsonTest(ZeroCodeUnitRunner.java:223) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:127) [zerocode-tdd-1.3.28.jar:na]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.runChild(ZeroCodeUnitRunner.java:51) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) [junit-4.13.2.jar:4.13.2]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413) [junit-4.13.2.jar:4.13.2]
	at org.jsmart.zerocode.core.runner.ZeroCodeUnitRunner.run(ZeroCodeUnitRunner.java:107) [zerocode-tdd-1.3.28.jar:na]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.13.2.jar:4.13.2]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) [junit-rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) [idea_rt.jar:na]
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235) [junit-rt.jar:na]
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) [junit-rt.jar:na]
2022-01-29 18:09:12,657 [main] INFO  org.apache.kafka.clients.producer.KafkaProducer - [Producer clientId=dad-producer_2022-01-29] Closing the Kafka producer with timeoutMillis = 9223372036854775807 ms.
2022-01-29 18:09:12,664 [main] INFO  org.jsmart.zerocode.core.engine.validators.ZeroCodeValidatorImpl - Comparing results via LENIENT matchers
2022-01-29 18:09:12,666 [main] WARN  org.jsmart.zerocode.core.engine.assertion.JsonAsserter - Path: $.recordMetadata.topicPartition.topic was not found in the response. Hence this value was treated as null.
2022-01-29 18:09:12,668 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Failed assertion during Scenario:E2E - Produce to topic, --> Step:produce_to_stagea, Details: Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'

2022-01-29 18:09:12,669 [main] ERROR org.jsmart.zerocode.core.runner.StepNotificationHandler - Assertion failed for :- 

[E2E - Produce to topic] 
	|
	|
	+---Step --> [produce_to_stagea] 

Failures:
--------- 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
-----------------------------------------------------------------------------------------------------------------------------
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
(See below 'Actual Vs Expected' to learn why this step failed) 

2022-01-29 18:09:12,676 [main] WARN  org.jsmart.zerocode.core.runner.ZeroCodeMultiStepsScenarioRunnerImpl - 
--------- TEST-STEP-CORRELATION-ID: 48fe41da-1280-4439-be98-c2f95281f84a ---------
*requestTimeStamp:2022-01-29T18:09:12.461
step:produce_to_stagea
id:null
url:kafka-topic:stagea
method:PRODUCE
request:
{
  "async" : true,
  "recordType" : "JSON",
  "records" : {
    "version" : "2.47.948",
    "identity" : {
      "id" : "eue8372kss-fkd8483-ke8e83",
      "parentId" : null,
      "externalIds" : {
        "DeviceType" : "45",
        "TrackingId" : "wujs73737-eusjs5253-oe948383"
      }
    },
    "stream" : "data-stagea",
    "message" : {
      "Data" : [ {
        "Data" : {
          "SubTotalAmount" : "25.30",
          "TaxAmount" : "0.33",
          "TotalAmount" : "25.30",
          "TicketNumber" : "19555365",
          "TaxByTaxRules" : [ {
            "RuleSequenceNo" : 0,
            "TaxCategoryId" : 45556,
            "TaxCategoryName" : "InclusiveTax",
            "TaxRate" : 6,
            "RuleCode" : "1",
            "TaxableQtyInStockingUnits" : 1,
            "Authorities" : [ {
              "AuthoritySequenceNo" : 0,
              "AuthorityName" : "Default"
            } ],
            "IsInclusive" : true
          } ],
          "Seats" : [ {
            "Number" : 0
          } ],
          "LineItems" : [ {
            "Definition" : {
              "ItemNumber" : "14",
              "ShortDescription" : "bbb",
              "Description" : ""
            },
            "LineType" : 0,
            "OriginalQuantity" : 0,
            "TotalCost" : "0.00",
            "PriceListPrice" : {
              "Price" : "10.00"
            },
            "ItemNumber" : "14",
            "IsTaxable" : true,
            "UnitPriceAmount" : "10.00"
          }, {
            "Definition" : {
              "ItemNumber" : "17",
              "ShortDescription" : "ccc",
              "Description" : ""
            },
            "QuantitySold" : "1.000000",
            "AppliedSub" : [ {
              "ParentQuantitySold" : "1.000000",
              "Definition" : {
                "ItemNumber" : "19",
                "ShortDescription" : "zzzzz",
                "Description" : ""
              }
            } ],
            "IsUserEnteredPrice" : false
          } ],
          "Payments" : [ {
            "SequenceNumber" : 1,
            "Description" : "Cash"
          } ],
          "strTicketType" : "Ticket"
        },
        "DataType" : 10,
        "SubmissionTrackingId" : "4"
      } ],
      "DataCounts" : [ {
        "Count" : 1,
        "DataType" : 10
      } ],
      "DeviceType" : 9,
      "CustomerId" : "3837383"
    },
    "partitionKey" : "3837383",
    "key" : null,
    "messageId" : "eyye6373-ndhd7373-dmjdd777"
  }
} 
--------- TEST-STEP-CORRELATION-ID: 48fe41da-1280-4439-be98-c2f95281f84a ---------
Response:
{
  "status" : "Failed",
  "message" : "Cannot deserialize instance of `java.util.ArrayList<org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecord>` out of START_OBJECT token\n at [Source: (String)\"{\"async\":true,\"recordType\":\"JSON\",\"records\":{\"version\":\"2.47.948\",\"identity\":{\"id\":\"eue8372kss-fkd8483-ke8e83\",\"parentId\":null,\"externalIds\":{\"DeviceType\":\"45\",\"TrackingId\":\"wujs73737-eusjs5253-oe948383\"}},\"stream\":\"data-stagea\",\"message\":{\"Data\":[{\"Data\":{\"SubTotalAmount\":\"25.30\",\"TaxAmount\":\"0.33\",\"TotalAmount\":\"25.30\",\"TicketNumber\":\"19555365\",\"TaxByTaxRules\":[{\"RuleSequenceNo\":0,\"TaxCategoryId\":45556,\"TaxCategoryName\":\"InclusiveTax\",\"TaxRate\":6,\"RuleCode\":\"1\",\"TaxableQtyInStockingUnits\":1,\"A\"[truncated 888 chars]; line: 1, column: 45] (through reference chain: org.jsmart.zerocode.core.kafka.send.message.ProducerJsonRecords[\"records\"])",
  "recordCount" : null
}
*responseTimeStamp:2022-01-29T18:09:12.663 
*Response delay:202.0 milli-secs 
---------> Expected Response: <----------
Assumed Payload: 
{
  "status" : "Ok",
  "recordMetadata" : {
    "topicPartition" : {
      "topic" : "stagea"
    }
  }
}
Assertion Errors: 
Assertion jsonPath '$.status' with actual value 'Failed' did not match the expected value 'Ok'
Assertion jsonPath '$.recordMetadata.topicPartition.topic' with actual value 'null' did not match the expected value 'stagea'
 
 
-done-

2022-01-29 18:09:12,799 [main] INFO  org.jsmart.zerocode.core.engine.listener.ZeroCodeTestReportListener - #ZeroCode: Test run completed for this runner. Generating test reports and charts. 
* For more examples and help on automated Kafka data stream testing and Load testing visit https://zerocode.io
2022-01-29 18:09:12,883 [main] INFO  org.jsmart.zerocode.core.domain.builders.ExtentReportsFactory - Where were the tests fired? Ans: OS:Mac OS X, Architecture:x86_64, Java:1.8.0_291, Vendor:Oracle Corporation
